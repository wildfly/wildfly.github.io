<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="WildFly developer team">
<title>Hacking on WildFly</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="Hacking_On_WildFly" class="book toc2 toc-left">
<div id="header">
<h1>Hacking on WildFly</h1>
<div class="details">
<span id="author" class="author">WildFly developer team</span><br>
<span id="revnumber">version 29.0.0.Final,</span>
<span id="revdate">2023-07-20T17:19:12Z</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Hacking on WildFly</div>
<ul class="sectlevel1">
<li><a href="#Target_Audience">1. Target Audience</a></li>
<li><a href="#prerequisites">2. Prerequisites</a>
<ul class="sectlevel2">
<li><a href="#github-account">2.1. GitHub account</a></li>
<li><a href="#jira-account">2.2. Jira account</a></li>
</ul>
</li>
<li><a href="#getting-started">3. Getting started</a>
<ul class="sectlevel2">
<li><a href="#fork">3.1. Fork</a></li>
<li><a href="#clone">3.2. Clone</a></li>
<li><a href="#remote">3.3. Remote</a></li>
<li><a href="#safety">3.4. Safety</a></li>
<li><a href="#working-with-git-later">3.5. Working with git later</a></li>
</ul>
</li>
<li><a href="#Contributing">4. Development environment</a></li>
<li><a href="#maven">5. Maven</a></li>
<li><a href="#community-interaction">6. Community interaction</a></li>
<li><a href="#ide-integration">7. IDE Integration</a>
<ul class="sectlevel2">
<li><a href="#eclipse">7.1. Eclipse</a></li>
<li><a href="#intellij-idea">7.2. IntelliJ IDEA</a></li>
</ul>
</li>
<li><a href="#jira">8. Jira</a>
<ul class="sectlevel2">
<li><a href="#good-first-issues">8.1. Good First Issues</a></li>
<li><a href="#special-cases">8.2. Special cases</a></li>
</ul>
</li>
<li><a href="#heaven-coding">9. Heaven - Coding</a>
<ul class="sectlevel2">
<li><a href="#contributing_topic_branch">9.1. Topic branch</a></li>
<li><a href="#code">9.2. Code</a></li>
<li><a href="#contributing_rebase_latest">9.3. Rebase topic branch on latest main</a></li>
</ul>
</li>
<li><a href="#quality-and-testing">10. Quality and Testing</a>
<ul class="sectlevel2">
<li><a href="#checkstyle-errors">10.1. Checkstyle Errors</a></li>
<li><a href="#how-do-i-ensure-that-my-code-does-not-blow-up-the-testsuite">10.2. How do I ensure that my code does not blow up the testsuite?</a></li>
</ul>
</li>
<li><a href="#pull-requests-to-upstream">11. Pull requests to upstream</a></li>
<li><a href="#WildFly_PR_Standard">12. WildFly Pull Request Standards and Guidelines</a>
<ul class="sectlevel2">
<li><a href="#describe-the-pull-request-adequately">12.1. Describe the pull request adequately</a></li>
<li><a href="#make-sure-it-builds-and-tests-pass-first">12.2. Make sure it builds and tests pass first</a></li>
<li><a href="#separate-your-changes-but-not-too-much">12.3. Separate your changes - but not too much</a></li>
<li><a href="#prstandards_avoid_massive">12.4. Avoid massive and/or "stream of consciousness" branches</a></li>
<li><a href="#prstandards_pay_attention">12.5. Pay attention and respond to review comments</a></li>
<li><a href="#dont-get-discouraged">12.6. Don&#8217;t get discouraged</a></li>
<li><a href="#you-can-review-code-too">12.7. You can review code too!</a></li>
<li><a href="#on-major-refactorings">12.8. On major refactorings</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>&#169; 2021 The original authors.</p>
</div>
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="Target_Audience"><a class="anchor" href="#Target_Audience"></a><a class="link" href="#Target_Audience">1. Target Audience</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document is a guide to the setup of Github, preparing and developing changes and contributing
to WildFly.</p>
</div>
<div class="paragraph">
<p>This guide assumes you know how to deal with the CLI of your OS, for example the Linux bash or MacOS zsh.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a><a class="link" href="#prerequisites">2. Prerequisites</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>You are very welcome to improve WildFly, please read why:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How Red Hat deals with OpenSource <a href="https://www.redhat.com/en/resources/open-source-participation-guidelines-overview">Open source participation guidelines</a></p>
</li>
<li>
<p>and the <a href="https://www.contributor-covenant.org/version/2/1/code_of_conduct/">Contributor Covenant Code of Conduct</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="github-account"><a class="anchor" href="#github-account"></a><a class="link" href="#github-account">2.1. GitHub account</a></h3>
<div class="paragraph">
<p>Create a GitHub account if you don&#8217;t have one already
<a href="https://docs.github.com/en/get-started/signing-up-for-github/signing-up-for-a-new-github-account">Signing up for a new GitHub account</a></p>
</div>
<div class="paragraph">
<p>Create a Personal Access Token to work with on the command line.
<a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">Account Security - Creating a personal access token</a></p>
</div>
</div>
<div class="sect2">
<h3 id="jira-account"><a class="anchor" href="#jira-account"></a><a class="link" href="#jira-account">2.2. Jira account</a></h3>
<div class="paragraph">
<p>Create an account for Red Hat&#8217;s Jira [<a href="https://issues.redhat.com/" class="bare">https://issues.redhat.com/</a>] Choose "Sign up"</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a><a class="link" href="#getting-started">3. Getting started</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="fork"><a class="anchor" href="#fork"></a><a class="link" href="#fork">3.1. Fork</a></h3>
<div class="paragraph">
<p>Fork wildfly repository into your account <a href="https://docs.github.com/en/get-started/quickstart/fork-a-repo">QuickStart - Fork a repo</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/wildfly/wildfly-core/" class="bare">https://github.com/wildfly/wildfly-core/</a></p>
</li>
<li>
<p><a href="https://github.com/wildfly/wildfly/" class="bare">https://github.com/wildfly/wildfly/</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="clone"><a class="anchor" href="#clone"></a><a class="link" href="#clone">3.2. Clone</a></h3>
<div class="paragraph">
<p>Clone your newly forked copy onto your local workspace</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ git clone git@github.com:[your user]/wildfly.git
Cloning into 'wildfly'...
remote: Counting objects: 533023, done.
remote: Compressing objects: 100% (170/170), done.
remote: Total 533023 (delta 60), reused 0 (delta 0), pack-reused 532777
Receiving objects: 100% (533023/533023), 140.25 MiB | 1.75 MiB/s, done.
Resolving deltas: 100% (210143/210143), done.
Checking connectivity... done.

$ cd wildfly</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="remote"><a class="anchor" href="#remote"></a><a class="link" href="#remote">3.3. Remote</a></h3>
<div class="paragraph">
<p>Add a remote ref to upstream, for pulling future updates</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git remote add upstream git@github.com:wildfly/wildfly.git</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="safety"><a class="anchor" href="#safety"></a><a class="link" href="#safety">3.4. Safety</a></h3>
<div class="paragraph">
<p>As a precaution, disable merge commits to your main</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git config branch.main.mergeoptions --ff-only</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="working-with-git-later"><a class="anchor" href="#working-with-git-later"></a><a class="link" href="#working-with-git-later">3.5. Working with git later</a></h3>
<div class="sect3">
<h4 id="pulling-updates"><a class="anchor" href="#pulling-updates"></a><a class="link" href="#pulling-updates">3.5.1. Pulling updates</a></h4>
<div class="paragraph">
<p>Pulling later updates from upstream</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ git checkout -f main
$ git pull --rebase upstream main
From github.com:wildfly/wildfly
 * branch            main     -&gt; FETCH_HEAD
Updating 3382570..1fa25df
Fast-forward
 {parent =&gt; bom}/pom.xml                            |   70 ++++----------
 build/pom.xml                                      |   13 +--
 domain/pom.xml                                     |   10 ++
 .../src/main/resources/examples/host-example.xml   |    2 +-
 .../resources/examples/jboss-domain-example.xml    |   28 +++---
 .../main/resources/schema/jboss-domain-common.xsd  |   12 +--
 .../main/resources/schema/jboss-domain-host.xsd    |    2 +-
 domain/src/main/resources/schema/jboss-domain.xsd  |   17 ++--
 pom.xml                                            |  100 ++++++++++++++++++--
 process-manager/pom.xml                            |    3 +-
 10 files changed, 156 insertions(+), 101 deletions(-)
 rename {parent =&gt; bom}/pom.xml (85%)</code></pre>
</div>
</div>
<div class="paragraph">
<p>(--rebase will automatically move your local commits, if you have any, on top of the latest branch you pull from, you can leave it off if you do not).</p>
</div>
<div class="paragraph">
<p>Best practice is to never add your own commits to your local 'main' branch. Instead create a topic branch from 'main' and add commits to your topic branch. Only use your local 'main' to track the current state of the 'upstream' remote&#8217;s 'main' branch.</p>
</div>
<div class="paragraph">
<p>Please note that --rebase is very important if you do have commits. What happens is that when git pull can&#8217;t fast forward, it does a merge commit, and a merge commit puts the sucked in changes ON TOP of yours whereas a rebase puts them BELOW yours. In other words a merge commit makes the history a graph, and we prefer a cleaner, easier to follow linear history (hence the rebasing). Further once you do a merge commit it will be difficult to rebase the history before that commit (say you want to combine two commits to one later) as described in <a href="Hacking_On_WildFly.html#contributing_commit_push">"Commit and push"</a>. Luckily the option set in step <a href="#safety">Safety</a> will prevent this from happening.</p>
</div>
<div class="paragraph">
<p>One way to not forget --rebase the rebase option is you may want to create an alias</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code> $ git config --global alias.up &quot;pull --rebase&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and then just use the new alias instead of pull</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ git up upstream main</code></pre>
</div>
</div>
<div class="paragraph">
<p>One last option, which some prefer, is to avoid using pull altogether, and just use fetch + rebase (this is of course more typing)
For some reasons tags are not updated (e.g. not part of an active branch). Update the tags with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ git fetch --tags upstream</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rebasing-a-feature-branch"><a class="anchor" href="#rebasing-a-feature-branch"></a><a class="link" href="#rebasing-a-feature-branch">3.5.2. Rebasing a feature branch</a></h4>
<div class="paragraph">
<p>Assume you have a feature branch WFLY-815_upgrade_sample_dep and you have rebased the local main branch to be up to date with upstream main as described before.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git checkout -f WFLY-815_upgrade_sample_dep
git rebase upstream/main</code></pre>
</div>
</div>
<div class="paragraph">
<p>Do not pull the upstream main to your local feature branch! You&#8217;ll be stuck in duplicate commit hell.</p>
</div>
</div>
<div class="sect3">
<h4 id="push"><a class="anchor" href="#push"></a><a class="link" href="#push">3.5.3. Push</a></h4>
<div class="paragraph">
<p>Pushing pulled updates (or local commits if you aren&#8217;t using topic branches) to your private github repo (origin)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ git push
Counting objects: 192, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (44/44), done.
Writing objects: 100% (100/100), 10.67 KiB, done.
Total 100 (delta 47), reused 100 (delta 47)
To git@github.com:[your user]/wildfly.git
   3382570..1fa25df  main -&gt; main</code></pre>
</div>
</div>
<div class="paragraph">
<p>You might need to say -f to force the changes. Read <a href="Hacking_On_WildFly.html#contributing_topic_branch">Topic Branch</a> though before you do it.</p>
</div>
<div class="paragraph">
<p>If you fetch the tags separately you have to push the tags also. Consider if you need them in your personal GitHub repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git push --tags</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Contributing"><a class="anchor" href="#Contributing"></a><a class="link" href="#Contributing">4. Development environment</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Latest Maven build tool <a href="https://maven.apache.org/" class="bare">https://maven.apache.org/</a></p>
</li>
<li>
<p>OpenJDK 11 (eleven!) You can use any distribution in example Eclipse <a href="https://adoptium.net/" class="bare">https://adoptium.net/</a></p>
</li>
<li>
<p>Eclipse <a href="https://www.eclipse.org/downloads/packages/">Eclipse Download</a> or any other IDE allowing correct source formatting (IntelliJ)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="maven"><a class="anchor" href="#maven"></a><a class="link" href="#maven">5. Maven</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use maven. Simplest is to use the build.sh or build.bat scripts in the root of the source tree. If you don&#8217;t use those scripts and use the <code><code>mvn</code></code> command directly, note that WildFly&#8217;s root pom will enforce a minimum maven version.</p>
</div>
<div class="paragraph">
<p>Building WildFly requires Java 11 or newer. Make sure you have JAVA_HOME set to point to the JDK11 installation. Build uses Maven 3.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$ ./build.sh
.....
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] WildFly: BOM ..................... SUCCESS [1.834s]
[INFO] WildFly: Parent Aggregator ....... SUCCESS [0.022s]
[INFO] WildFly: Domain Core ............. SUCCESS [3.051s]
[INFO] WildFly: Server Manager .......... SUCCESS [0.204s]
[INFO] WildFly: Server .................. SUCCESS [0.283s]
[INFO] WildFly: Domain Controller ....... SUCCESS [0.084s]
[INFO] WildFly: Process Manager ......... SUCCESS [0.314s]
[INFO] WildFly: Remoting ................ SUCCESS [0.390s]
[INFO] WildFly: Build ................... SUCCESS [5.696s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="community-interaction"><a class="anchor" href="#community-interaction"></a><a class="link" href="#community-interaction">6. Community interaction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Discuss your planned changes (if you want feedback)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On mailing list - [<a href="https://lists.jboss.org/mailman/listinfo/wildfly-dev" class="bare">https://lists.jboss.org/mailman/listinfo/wildfly-dev</a>]</p>
</li>
<li>
<p>On Zulip (recommended) - [<a href="https://wildfly.zulipchat.com" class="bare">https://wildfly.zulipchat.com</a>]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Getting feedback first is recommended before starting on any large-scale work. Large scale could mean many things including a complex change in a focused area, or a simple change made in many different parts of the code base.</p>
</div>
<div class="paragraph">
<p>Getting feedback first is strongly recommended before beginning work on a new feature. Any change that introduces new user-controllable behavior will be regarded as a new feature. Before merging new features we require a larger set of inputs than are required for other types of fixes, including a formal requirements analysis, a more formally considered plan for testing, and appropriate additions to the WildFly documentation. Before getting too far along with a feature it is best to discuss with other WildFly developers what&#8217;s needed and how best to ensure those things can be delivered.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ide-integration"><a class="anchor" href="#ide-integration"></a><a class="link" href="#ide-integration">7. IDE Integration</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="eclipse"><a class="anchor" href="#eclipse"></a><a class="link" href="#eclipse">7.1. Eclipse</a></h3>
<div class="paragraph">
<p>The "formal" rules to format code are based on Eclipse. You can find them here <a href="https://github.com/wildfly/wildfly-core/tree/main/ide-configs/eclipse">WildFly Core IDE Eclipse Configuration</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>in Eclipse go to Window &#8594; Preferences &#8594; Java &#8594; Code Style &#8594; Formatter.</p>
</li>
<li>
<p>click Import.</p>
</li>
<li>
<p>select formatting rules which you have downloaded</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Same for cleanup and templates</p>
</div>
</div>
<div class="sect2">
<h3 id="intellij-idea"><a class="anchor" href="#intellij-idea"></a><a class="link" href="#intellij-idea">7.2. IntelliJ IDEA</a></h3>
<div class="sect3">
<h4 id="code-formatter"><a class="anchor" href="#code-formatter"></a><a class="link" href="#code-formatter">7.2.1. Code Formatter</a></h4>
<div class="paragraph">
<p>There is a plugin for IntelliJ to use the Eclipse formatter: <a href="https://github.com/krasa/EclipseCodeFormatter#instructions">Eclipse Code Formatter</a></p>
</div>
</div>
<div class="sect3">
<h4 id="import-wildfly-as-maven-project-in-intellij-idea"><a class="anchor" href="#import-wildfly-as-maven-project-in-intellij-idea"></a><a class="link" href="#import-wildfly-as-maven-project-in-intellij-idea">7.2.2. Import WildFly as Maven project in IntelliJ IDEA</a></h4>
<div class="paragraph">
<p>Before importing you have to set the VM Options of the IntelliJ Maven importer. Please follow this guide <a href="https://www.jetbrains.com/help/idea/maven-importing.html" class="bare">https://www.jetbrains.com/help/idea/maven-importing.html</a> and add <code><code>-DallTests</code></code> to the field <code><code>VM options for importer</code></code>.
This is necessary because the testsuite poms do not contain all necessary modules by default.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jira"><a class="anchor" href="#jira"></a><a class="link" href="#jira">8. Jira</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure there is a JIRA somewhere for the enhancement/fix</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.redhat.com/projects/WFLY" class="bare">https://issues.redhat.com/projects/WFLY</a> (for WildFly full)</p>
</li>
<li>
<p><a href="https://issues.redhat.com/projects/WFCORE" class="bare">https://issues.redhat.com/projects/WFCORE</a> (for WildFly Core)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="good-first-issues"><a class="anchor" href="#good-first-issues"></a><a class="link" href="#good-first-issues">8.1. Good First Issues</a></h3>
<div class="paragraph">
<p>Want to contribute to the WildFly project but aren&#8217;t quite sure where to start? Check out our issues with the <a href="https://issues.redhat.com/browse/WFLY-15654?filter=12403174">good-first-issue</a> label. These are a triaged set of issues that are great for getting started on our project.</p>
</div>
<div class="paragraph">
<p>Once you have selected an issue you&#8217;d like to work on, make sure it&#8217;s not already assigned to someone else. If you&#8217;ve resolved a WildFly issue before, to assign an issue to yourself, you should be able to simply click on "Start Progress" or Change the assignee by clicking on "Assign to me". This will automatically assign the issue to you. If you haven&#8217;t resolved an issue before, please start a thread expressing your interest in the issue in the <a href="https://wildfly.zulipchat.com/#narrow/stream/174184-wildfly-developers">wildfly-developers</a> stream in zulip.</p>
</div>
</div>
<div class="sect2">
<h3 id="special-cases"><a class="anchor" href="#special-cases"></a><a class="link" href="#special-cases">8.2. Special cases</a></h3>
<div class="paragraph">
<p>For component upgrades select this type for the Jira. The title must reflect the library and the new version.
In the description please offer a links to the release notes, the git tag diff.</p>
</div>
<div class="paragraph">
<p>If you are aware that the component upgrade brings a fix for CVE, it&#8217;s good to note that in the JIRA title, as later that will make this information more visible in the WildFly release notes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Sample title: Upgrade netty.io 4.1.68 (resolves [CVE-2021-37136|https://github.com/advisories/GHSA-grg4-wf29-r9vv], [CVE-2021-37136|https://github.com/advisories/GHSA-grg4-wf29-r9vv])
Jira Body:
Release Notes [https://netty.io/news/2021/09/09/4-1-68-Final.html]
GitDiff [https://github.com/netty/netty/compare/netty-4.1.67.Final...netty-4.1.68.Final]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heaven-coding"><a class="anchor" href="#heaven-coding"></a><a class="link" href="#heaven-coding">9. Heaven - Coding</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="contributing_topic_branch"><a class="anchor" href="#contributing_topic_branch"></a><a class="link" href="#contributing_topic_branch">9.1. Topic branch</a></h3>
<div class="paragraph">
<p>Create a simple topic branch to isolate that work</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git checkout -b WFLY-XXXX_my_cool_feature</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="code"><a class="anchor" href="#code"></a><a class="link" href="#code">9.2. Code</a></h3>
<div class="sect3">
<h4 id="extending-wildfly"><a class="anchor" href="#extending-wildfly"></a><a class="link" href="#extending-wildfly">9.2.1. Extending WildFly</a></h4>
<div class="paragraph">
<p>There is an excellent documentation and guide <a href="Extending_WildFly.html">Extending WildFly</a> and you can rely on Maven Archetypes to generate a skeleton <a href="https://github.com/wildfly/wildfly-archetypes/tree/main/wildfly-subsystem-archetype">WildFly Subsystem Archetype</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="adding-a-new-external-dependency"><a class="anchor" href="#adding-a-new-external-dependency"></a><a class="link" href="#adding-a-new-external-dependency">9.2.2. Adding a new external dependency</a></h4>
<div class="paragraph">
<p>Take care that maintainers agree to pick up a new dependency.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Edit pom.xml and add a property of the form "version.groupId.artifactId" which contains the Maven version of the dependency. Add your new property in the proper alphabetical order with respect to the existing version properties. Add your dependency to the &lt;dependencyManagement&gt; section, and use the property for the version.  If your new dependency has any transitive dependencies, be sure to &lt;exclude&gt; them (or if possible, update the project so that all its dependencies are of provided scope).</p>
</li>
<li>
<p>Add your dependency to any AS modules that require it, but only with group/artifact. If your dependency will be provided by an existing WildFly module, add a new <code><code>artifact</code></code> element to the <code><code>module.xml</code></code> file for the existing module, with the value of the element&#8217;s <code><code>name</code></code> attribute an expression of the form <code><code>${groupId:artifactId}</code></code></p>
</li>
<li>
<p>In the pom.xml file for the maven module where you added a new module.xml or updated an existing one for your new dependency, add a new <code><code>dependency</code></code> entry to the pom&#8217;s <code><code>dependencies</code></code> section.</p>
</li>
<li>
<p>If your dependency will be provided by a new WildFly module, create a directory in the relevant feature-pack maven module, e.g. <code><code>ee-feature-pack/common/src/main/resources/modules/system/layers/base/</code></code> corresponding to the module&#8217;s name (which will differ from the Maven group/artifact name; look at other modules to get a feel for the naming scheme), with a version of "main", like this: <code><code>modules/system/layers/base/org/jboss/foo/main</code></code>. If the correct maven module to choose for your new directory is unclear, be sure to ask!</p>
</li>
<li>
<p>Create a module.xml file inside the "main" directory.  Use a module.xml from another similar module as a template. <a href="https://jboss-modules.github.io/jboss-modules/manual/">JBoss Modules Reference Documentation</a></p>
</li>
<li>
<p>Important: Make sure you did not introduce any transitive dependencies by using "mvn dependency:tree".  If you did, be sure to add &lt;exclusion&gt;s for each of them to your dependency as described above.</p>
</li>
<li>
<p>Important: Do not introduce a dependency on the "system" module.  The JBoss Modules reference manual lists JDK packages. Please avoid deprecated packages.</p>
</li>
<li>
<p>Add license information to the license declaration file located in the maven module whose pom you just updated. For example, if you added a dependency entry to <code><code>ee-feature-pack/common/pom.xml</code></code>, please add an entry to <code><code>ee-feature-pack/common/src/license/ee-feature-pack-common-licenses.xml</code></code>. Add a new element in the appropriate spot. The elements are ordered by the maven groupId and artifactId of the entries. If the needed content for the entry is unclear, be sure to ask!</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="contributing_commit_push"><a class="anchor" href="#contributing_commit_push"></a><a class="link" href="#contributing_commit_push">9.2.3. Commit and push</a></h4>
<div class="paragraph">
<p>Make the changes and commit one or more times (Don&#8217;t forget to push)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git commit -m 'WFLY-XXXX Frunubucate the Fromungulator'
First time: git push --set-upstream origin WFLY-XXXX_my_cool_feature
Second and ongoing: git push origin WFLY-XXXX_my_cool_feature</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that git push references the branch you are pushing and defaults to main, not your working branch.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="contributing_rebase_latest"><a class="anchor" href="#contributing_rebase_latest"></a><a class="link" href="#contributing_rebase_latest">9.3. Rebase topic branch on latest main</a></h3>
<div class="paragraph">
<p>Rebase your branch against the latest main (applies your patches on top of main)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git fetch upstream
git rebase -i upstream/main
# if you have conflicts fix them and rerun rebase
# The -f, forces the push, alters history, see note below
git push -f origin WFLY-XXXX_my_cool_feature</code></pre>
</div>
</div>
<div class="paragraph">
<p>The -i triggers an interactive update which also allows you to combine commits, alter commit messages etc. It&#8217;s a good idea to make the commit log very nice for external consumption. Note that this alters history, which while great for making a clean patch, is unfriendly to anyone who has forked your branch. Therefore you want to make sure that you either work in a branch that you don&#8217;t share, or if you do share it, tell them you are about to revise the branch history (and thus, they will then need to rebase on top of your branch once you push it out).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quality-and-testing"><a class="anchor" href="#quality-and-testing"></a><a class="link" href="#quality-and-testing">10. Quality and Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <strong>must</strong> read is the <a href="Testsuite.html">WildFly Testsuite</a> documentation. It will save you time and nerves.</p>
</div>
<div class="sect2">
<h3 id="checkstyle-errors"><a class="anchor" href="#checkstyle-errors"></a><a class="link" href="#checkstyle-errors">10.1. Checkstyle Errors</a></h3>
<div class="paragraph">
<p>If you need to first verify that your changes pass the checkstyle audit, do this first.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>mvn checkstyle:checkstyle</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can proceed with the build.</p>
</div>
</div>
<div class="sect2">
<h3 id="how-do-i-ensure-that-my-code-does-not-blow-up-the-testsuite"><a class="anchor" href="#how-do-i-ensure-that-my-code-does-not-blow-up-the-testsuite"></a><a class="link" href="#how-do-i-ensure-that-my-code-does-not-blow-up-the-testsuite">10.2. How do I ensure that my code does not blow up the testsuite?</a></h3>
<div class="paragraph">
<p>First try to run the tests as part of the build before sending a pull request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$&gt; ./build.sh clean install -DallTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sometimes there are test failures that are not related to your code changes. Most times it&#8217;s your code change. Try to discuss this on Zulip.</p>
</div>
<div class="paragraph">
<p>You can get a full run using</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>$&gt; ./build.sh clean install -DallTests -fae</code></pre>
</div>
</div>
<div class="paragraph">
<p>This additional option will allow the build to continue even when there are test failures. Doing this, you can get a stock of all the test failures and figure out how many are related to your code changes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pull-requests-to-upstream"><a class="anchor" href="#pull-requests-to-upstream"></a><a class="link" href="#pull-requests-to-upstream">11. Pull requests to upstream</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get your changes merged into upstream</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read the documentation to ensure that you follow a good Pull Request Standards <a href="#WildFly_PR_Standard">WildFly Pull Request Standards and Guidelines</a></p>
</li>
<li>
<p>Make sure your repo is in sync with other unrelated changes in upstream before requesting your changes be merged into upstream by repeating  <a href="#contributing_rebase_latest">Rebase topic branch on latest main</a>.</p>
</li>
<li>
<p>Send a github pull request, by clicking the pull request link while in your repo&#8217;s fork. <a href="https://docs.github.com/en/get-started/quickstart/github-flow#create-a-pull-request">Quickstart - Create a pull request</a></p>
</li>
<li>
<p>In general, WildFly maintainers are watching the project, so they will receive a notification on each new PR.</p>
</li>
<li>
<p>As part of the review you may see an automated test run comment on your request.</p>
</li>
<li>
<p>After review a maintainer will merge your patch, update/resolve issues by request, and reply when complete</p>
</li>
<li>
<p>Don&#8217;t forget to switch back to main and pull the updates</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git checkout main
git pull --ff-only upstream main</code></pre>
</div>
</div>
<div class="paragraph">
<p>Update the main branch of your github repository (otherwise you will see a message like 'Your branch is ahead of 'origin/main' by XXX commits.'
if you use 'git status' on your local main branch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>git push origin main</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="WildFly_PR_Standard"><a class="anchor" href="#WildFly_PR_Standard"></a><a class="link" href="#WildFly_PR_Standard">12. WildFly Pull Request Standards and Guidelines</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="describe-the-pull-request-adequately"><a class="anchor" href="#describe-the-pull-request-adequately"></a><a class="link" href="#describe-the-pull-request-adequately">12.1. Describe the pull request adequately</a></h3>
<div class="paragraph">
<p>The PR title should include a JIRA number directly from the project in question, whose corresponding JIRA issue will in turn have been linked to the pull request you are just now creating. The description should include a link to the JIRA. The description should also include a decent, human-readable summary of what is changing. Proper spelling and grammar is a plus!</p>
</div>
<div class="paragraph">
<p><strong>Sample PR</strong>
[WFLY-815] This is the sample title</p>
</div>
<div class="paragraph">
<p>Fixes: <a href="https://issues.redhat.com/browse/WFLY-815" class="bare">https://issues.redhat.com/browse/WFLY-815</a></p>
</div>
<div class="sect3">
<h4 id="commit-message"><a class="anchor" href="#commit-message"></a><a class="link" href="#commit-message">12.1.1. Commit message</a></h4>
<div class="paragraph">
<p>The commit message for each commit should also reference a JIRA number.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="make-sure-it-builds-and-tests-pass-first"><a class="anchor" href="#make-sure-it-builds-and-tests-pass-first"></a><a class="link" href="#make-sure-it-builds-and-tests-pass-first">12.2. Make sure it builds and tests pass first</a></h3>
<div class="paragraph">
<p>It is highly annoying to reviewers when they find they&#8217;ve spent a great deal of time reviewing some code only to discover that it doesn&#8217;t even compile. In particular, it&#8217;s common for a patch to trip CheckStyle if it hadn&#8217;t been previously compile-tested at the least.</p>
</div>
<div class="paragraph">
<p>While it is tempting to rely on the automated CI/GitHub integration to do our build and test for us (and I&#8217;m guilty of having done this too), it generally just causes trouble, so please don&#8217;t do it!</p>
</div>
</div>
<div class="sect2">
<h3 id="separate-your-changes-but-not-too-much"><a class="anchor" href="#separate-your-changes-but-not-too-much"></a><a class="link" href="#separate-your-changes-but-not-too-much">12.3. Separate your changes - but not too much</a></h3>
<div class="paragraph">
<p>This comes directly from [1], and I agree with it 100% (where the source document says "patch", think "commit"):</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Separate each logical change into a separate patch.
For example, if your changes include both bug fixes and performance enhancements for a single driver, separate those changes into two or more patches. If your changes include an API update, and a new driver which uses that new API, separate those into two patches.
On the other hand, if you make a single change to numerous files, group those changes into a single patch. Thus a single logical change is contained within a single patch.
The point to remember is that each patch should make an easily understood change that can be verified by reviewers. Each patch should be justifiable on its own merits.
If one patch depends on another patch in order for a change to be complete, that is OK. Simply note "this patch depends on patch X" in your patch description.
When dividing your change into a series of patches, take special care to ensure that [WildFly] builds and runs properly after each patch in the series. Developers using "git bisect" to track down a problem can end up splitting your patch series at any point; they will not thank you if you introduce bugs in the middle. If you cannot condense your patch set into a smaller set of patches, then only post say 15 or so at a time and wait for review and integration.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>I also want to emphasize how important it is to separate functional and <strong>non-functional</strong> changes. The latter category includes reformatting (which generally should <strong>not</strong> be done without a strong justification).</p>
</div>
<div class="sect3">
<h4 id="creating-per-maven-module-subtasks-and-doing-one-subtask-per-pr"><a class="anchor" href="#creating-per-maven-module-subtasks-and-doing-one-subtask-per-pr"></a><a class="link" href="#creating-per-maven-module-subtasks-and-doing-one-subtask-per-pr">12.3.1. Creating per maven-module subtasks and doing one subtask per PR</a></h4>
<div class="paragraph">
<p>If you have one logical change (for example you&#8217;re removing manual null checks and put a JDK or utility method instead) which affects more than one top-level maven module, please split them by top-level maven module.
For the logical change description use a top level JIRA (Bug, task, enhancement) and add sub-task for each top-level maven module.</p>
</div>
<div class="paragraph">
<p>Reason behind: WildFly and WildFly Core have a really huge codebase with several different full-time maintainers to review and approve the code. Afterward different project leads and/or release stewards do merge and Jira management work.</p>
</div>
<div class="paragraph">
<p>If there is a serious reason to deviate from this rule, please ask <em>before</em> on Zulip.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prstandards_avoid_massive"><a class="anchor" href="#prstandards_avoid_massive"></a><a class="link" href="#prstandards_avoid_massive">12.4. Avoid massive and/or "stream of consciousness" branches</a></h3>
<div class="paragraph">
<p>We all know that development can sometimes be an iterative process, and we learn as we go. Nonetheless, we do not need or want a complete record of all the highs and lows in the history of every change (for example, an "add foobar" commit followed later by a "remove foobar" commit in the same PR) - particularly for large changes or in large projects (like WildFly proper). It is good practice for such change authors to go back and rearrange and/or restructure the commits of a pull request such that they incrementally introduce the change in a logical manner, as one single conceptual change per PR.</p>
</div>
<div class="paragraph">
<p>Note that this advice is not meant to discourage multiple commits in a single PR that are all steps on the way to an overall complex change. To the contrary, multiple well structured commits are sometimes critical to getting proper review of complex changes. For example a PR to refactor code away from an ill-fitting set of abstractions and to a new set can be difficult to review in a single commit. But doing so can be quite straightforward when broken up into, for example, four commits, one to make some small change to clean up something that would get in the way of the overall change, one introducing the new abstractions, one moving the implementation to the new abstractions, and one removing the old abstractions.</p>
</div>
<div class="paragraph">
<p>If a PR consists of dozens or hundreds of nontrivial commits, you will want to strongly consider dividing it up into multiple PRs, as PRs of this size simply cannot be effectively reviewed. They will either be merged without adequate review, or outright ignored or closed. Which one is worse, I leave to your imagination.</p>
</div>
</div>
<div class="sect2">
<h3 id="prstandards_pay_attention"><a class="anchor" href="#prstandards_pay_attention"></a><a class="link" href="#prstandards_pay_attention">12.5. Pay attention and respond to review comments</a></h3>
<div class="paragraph">
<p>While in general it is my experience that WildFly contributors are good about this, I&#8217;m going to quote this passage from [1] regardless:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Your patch will almost certainly get comments from reviewers on ways in which the patch can be improved. You must respond to those comments; ignoring reviewers is a good way to get ignored in return. [&#8230;&#8203;]
Be sure to tell the reviewers what changes you are making and to thank them for their time. Code review is a tiring and time-consuming process, and reviewers sometimes get grumpy. Even in that case, though, respond politely and address the problems they have pointed out.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>In addition, when something needs to be changed, the proper manner to do so is generally to modify the original commit, not to add more commits to the chain to fix issues as they&#8217;re reported. See <a href="#prstandards_avoid_massive">Avoid massive and/or "stream of consciousness" branches</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="dont-get-discouraged"><a class="anchor" href="#dont-get-discouraged"></a><a class="link" href="#dont-get-discouraged">12.6. Don&#8217;t get discouraged</a></h3>
<div class="paragraph">
<p>It may come to pass that you have to iterate on your pull request many times before it is considered acceptable. Don&#8217;t be discouraged by this - instead, consider that to be a sign that the reviewers care highly about the quality of the code base. At the same time though, consider that it is frustrating for reviewers to have to say the same things over and over again, so please do take care to provide as high-quality submissions as possible, and see <a href="#prstandards_pay_attention">Pay attention and respond to review comments</a>!</p>
</div>
</div>
<div class="sect2">
<h3 id="you-can-review-code-too"><a class="anchor" href="#you-can-review-code-too"></a><a class="link" href="#you-can-review-code-too">12.7. You can review code too!</a></h3>
<div class="paragraph">
<p>You don&#8217;t have to be an official reviewer in order to review a pull request. If you see a pull request dealing with an area you are familiar with, feel free to examine it and comment as needed. In addition, <strong>all</strong> pull requests need to be reviewed for basic (non-machine-verifiable) correctness, including noticing bad code, NPE risks, and anti-patterns as well as "boring stuff" like spelling and grammar and documentation.</p>
</div>
<div class="paragraph">
<p>If you review a PR and you feel you understand it in total and that it is correct, it is helpful to the WildFly mergers if you use the 'Approve' option discussed in the <a href="https://docs.github.com/en/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-proposed-changes-in-a-pull-request">Github pull request review documentation</a>. Don&#8217;t worry that your approval will trigger automatic merging; it won&#8217;t. It&#8217;s just easier for others to see that you regard the PR as correct if you use the Github workflow. (Please don&#8217;t, however, use the 'Approve' option if you are not expressing an approval of the PR overall; e.g. if you only looked at one part and made some comments that were addressed. Use comments for that kind of input.)</p>
</div>
<div class="paragraph">
<p>If you do review a pull request and make suggestions for changes, please do pay attention to the PR and try to acknowledge if your suggestions have been resolved. This is particularly important if it won&#8217;t be quickly obvious to others if your input was addressed.</p>
</div>
</div>
<div class="sect2">
<h3 id="on-major-refactorings"><a class="anchor" href="#on-major-refactorings"></a><a class="link" href="#on-major-refactorings">12.8. On major refactorings</a></h3>
<div class="paragraph">
<p>When doing major and/or long-term refactors, while rare, it is possible that the above constraints become impractical, especially with regard to grouping changes. In this case, you can use a work branch on a (GitHub) fork of WildFly, applying the above rules in micro-scale to just that branch. In this case you could possibly ask a reviewer to also review some or all of the pull requests to that branch. Merge commits would then be used to periodically synchronize with upstream.</p>
</div>
<div class="paragraph">
<p>In this way, when the long-term branch is ready to "come home" to the main branch, the reviewers may have a good idea that the (potentially quite numerous) changes in the work branch have been reviewed already.</p>
</div>
<div class="paragraph">
<p>[1]: <a href="https://www.kernel.org/doc/Documentation/process/submitting-patches.rst" class="bare">https://www.kernel.org/doc/Documentation/process/submitting-patches.rst</a></p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 29.0.0.Final<br>
Last updated 2023-06-22 14:37:11 -0500
</div>
</div>
</body>
</html>