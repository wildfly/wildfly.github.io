<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="WildFly team">
<title>Getting Started Developing Applications Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body id="Getting_Started_Developing_Applications_Guide" class="book toc2 toc-left">
<div id="header">
<h1>Getting Started Developing Applications Guide</h1>
<div class="details">
<span id="author" class="author">WildFly team</span><br>
<span id="revnumber">version 29.0.0.Final,</span>
<span id="revdate">2023-07-20T17:19:12Z</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Getting Started Developing Applications Guide</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#downloading-the-quickstarts">1.1. Downloading the quickstarts</a></li>
</ul>
</li>
<li><a href="#getting-started-with-wildfly">2. Getting started with WildFly</a>
<ul class="sectlevel2">
<li><a href="#installing-and-starting-the-jboss-server-on-linux-unix-or-mac-os-x">2.1. Installing and starting the JBoss server on Linux, Unix or Mac OS X</a></li>
<li><a href="#installing-and-starting-the-jboss-server-on-windows">2.2. Installing and starting the JBoss server on Windows</a></li>
<li><a href="#starting-the-jboss-server-from-codeready-studio-or-eclipse-with-jboss-tools">2.3. Starting the JBoss server from CodeReady Studio or Eclipse with JBoss Tools</a></li>
<li><a href="#importing-the-quickstarts-into-eclipse">2.4. Importing the quickstarts into Eclipse</a></li>
<li><a href="#managing-jboss-wildfly">2.5. Managing JBoss WildFly</a></li>
</ul>
</li>
<li><a href="#cdi-servlet-helloworld-quickstart">3. CDI + Servlet: Helloworld quickstart</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>&#169; 2017 The original authors.</p>
</div>
<!-- toc disabled -->
<div class="paragraph">
<p>This guide has moved to
<a href="https://github.com/wildfly/quickstart/blob/main/guide/" class="bare">https://github.com/wildfly/quickstart/blob/main/guide/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide will walk you through installing and starting up JBoss WildFly. It will then introduce key features of the Jakarta EE (Web Profile) programming model, of which JBoss WildFly is a certified implementation.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Jakarta EE</div>
<div class="paragraph">
<p>The Jakarta EE platform offers developers the ability to write
distributed, transactional and portable applications quickly and easily.
We class applications that require these capabilities "enterprise
applications". These applications must be fast, secure and reliable.</p>
</div>
<div class="paragraph">
<p>Jakarta EE has always offered strong messaging (JMS), transactional (JTA)
and resource (JCA) capabilities as well as exposing web services via
SOAP (JAX-WS).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>JBoss WildFly depart from the familiar structure of previous JBoss AS versions, so we recommend all developers follow the steps in <a href="https://github.com/wildfly/quickstart/blob/10.x/guide/GettingStarted.asciidoc">Getting Started with JBoss WildFly</a> to install and start up the application server for the first time.</p>
</div>
<div class="paragraph">
<p>JBoss WildFly come with a series of quickstarts aimed to get you up to writing applications with minimal fuss. We recommend to start by working through the quickstarts in this guide, in the order they are presented. If you have previous experience with Jakarta EE 6, you may wish to skip some or all of the quickstarts.</p>
</div>
<div class="paragraph">
<p><strong>Core</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc">Helloworld Quickstart</a>. If you have previously developed applications using technologies such as JSF or Wicket, and EJB or Spring, you may wish to skip this quickstart.</p>
</li>
<li>
<p><a href="https://github.com/wildfly/quickstart/blob/10.x/guide/NumberguessQuickstart.asciidoc">Numberguess Quickstart</a>. If you have previously developed applications using technologies such as JSF or Wicket, EJB or Spring, and JPA or Hibernate you may wish to skip this quickstart.</p>
</li>
<li>
<p><a href="https://github.com/wildfly/quickstart/blob/10.x/guide/GreeterQuickstart.asciidoc">Greeter Quickstart</a>. If you are a Jakarta EE wizard you may wish to skip this quickstart.</p>
</li>
<li>
<p><a href="https://github.com/wildfly/quickstart/blob/10.x/guide/KitchensinkQuickstart.asciidoc">Kitchensink Quickstart</a>. A great starting point for your project.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="downloading-the-quickstarts"><a class="anchor" href="#downloading-the-quickstarts"></a>1.1. Downloading the quickstarts</h3>
<div class="paragraph">
<p>The quickstarts are are available for download from <a href="https://github.com/wildfly/quickstart">JBoss Developer Framework</a>. Make sure you download the latest zip!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-with-wildfly"><a class="anchor" href="#getting-started-with-wildfly"></a>2. Getting started with WildFly</h2>
<div class="sectionbody">
<div id="GettingStarted-" class="paragraph">
<p>To run the quickstarts with the provided build scripts, you&#8217;ll need:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you already have any of these pieces of software, there is no need to
install them again!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Java 8, to run WildFly and Maven</dt>
<dd>
<p>Choose your Java runtime, and follow their installation instructions. For example, you could choose one of:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://openjdk.java.net/install/">OpenJDK</a></p>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/index-137561.html">Oracle Java SE</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Maven 3, to build and deploy the quickstarts</dt>
<dd>
<p>Follow the official Maven installation guide if you don&#8217;t already have Maven 3 installed. You can check which version of Maven you have installed (if any) by running <code>mvn --version</code> . If you see a version newer than 3.0.0, you are ready to go.</p>
</dd>
<dt class="hdlist1">The JBoss WildFly runtime</dt>
<dd>
<p>Download JBoss WildFly from the <a href="http://wildfly.org/downloads/">WildFly download page</a></p>
</dd>
<dt class="hdlist1">The WildFly quickstarts</dt>
<dd>
<p>Available from <a href="https://github.com/wildfly/quickstart">WildFly Quickstarts</a></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If you wish to use the examples from an IDE, we recommend using CodeReady Studio, or Eclipse with JBoss Tools.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Red Hat CodeReady Studio</dt>
<dd>
<p>Download CodeReady Studio from <a href="https://developers.redhat.com/products/codeready-studio/download" class="bare">https://developers.redhat.com/products/codeready-studio/download</a>.</p>
</dd>
<dt class="hdlist1">Eclipse, with JBoss Tools</dt>
<dd>
<p>Download JBoss Tools from <a href="http://jboss.org/tools" class="bare">http://jboss.org/tools</a>. Make sure you install m2eclipse as well.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>JBoss WildFly offer the
ability to manage multiple AS instances from a single control point.
A collection of such servers are referred to as members of a "domain",
with a single Domain Controller process acting as the management control
point. Domains can span multiple physical (or virtual) machines, with
all AS instances on a given host under the control of a Host Controller
process. The Host Controllers interact with the Domain Controller to
control the lifecycle of the AS instances running on that host and to
assist the Domain Controller in managing them.</p>
</div>
<div class="paragraph">
<p>JBoss WildFly also offers a standalone mode, which is perfect for a single
server. We use this throughout the quickstarts.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="installing-and-starting-the-jboss-server-on-linux-unix-or-mac-os-x"><a class="anchor" href="#installing-and-starting-the-jboss-server-on-linux-unix-or-mac-os-x"></a>2.1. Installing and starting the JBoss server on Linux, Unix or Mac OS X</h3>
<div id="GettingStarted-on_linux" class="paragraph">
<p>First, let&#8217;s verify that both Java and Maven are correctly
installed. In a console, type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -version</pre>
</div>
</div>
<div class="paragraph">
<p>You should see a version string (at least <code>1.8.0</code>) printed. If not, contact your provider of Java for assistance. Next, type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn --version</pre>
</div>
</div>
<div class="paragraph">
<p>You should see a version string (at least <code>3.3.0</code>) printed. If not, contact the Maven community for assistance.</p>
</div>
<div class="paragraph">
<p>Next, we need to choose a location for WildFly to live. By default, WildFly will be extracted into <code>wildfly-11.x.x.x</code> (where <code>11.x.x.x</code> matches the version you downloaded):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>unzip wildfly-11.x.x.x.zip</pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s start WildFly in standalone mode:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>wildfly-11.x.x.x/bin/standalone.sh</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to stop WildFly, simply press Crtl-C whilst the terminal
has focus.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>That&#8217;s it, WildFly is installed and running! Visit <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a> to check the server has started properly.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can find the server log for standalone instances in
<code>wildfly-11.x.x.x/standalone/log/server.log</code>. The
<a href="http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Application_Platform/7/html/Administration_and_Configuration_Guide/index.html">Administration and Configuration Guide for JBoss Enterprise Application Platform 7</a> or the
<a href="https://docs.jboss.org/author/display/AS71/Getting+Started+Guide">Getting Started Guide for JBoss WildFly</a>
covers more on configuring logging.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="installing-and-starting-the-jboss-server-on-windows"><a class="anchor" href="#installing-and-starting-the-jboss-server-on-windows"></a>2.2. Installing and starting the JBoss server on Windows</h3>
<div id="GettingStarted-on_windows" class="paragraph">
<p>First, let&#8217;s verify that both Java and Maven are correctly installed. In a Command Prompt, type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -version</pre>
</div>
</div>
<div class="paragraph">
<p>You should see a version string (at least <code>1.8.0</code>) printed. If not, contact your provider of Java for assistance. Next, type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn --version</pre>
</div>
</div>
<div class="paragraph">
<p>You should see a version string (at least <code>3.3.0</code>) printed. If not, contact the Maven community for assistance.</p>
</div>
<div class="paragraph">
<p>Next, we need to choose a location for JBoss WildFly to live. By default, JBoss WildFly will be extracted into <code>wildfly-11.x.x.x</code> (where <code>11.x.x.x</code> matches the version you downloaded). Unzip JBoss Enterprise Application Platform or JBoss WildFly using your tool of choice.</p>
</div>
<div class="paragraph">
<p>Finally, let&#8217;s start JBoss WildFly in standalone mode. Locate your installation and run <code>standalone.bat</code> located in <code>bin</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to stop the server, simply press Crtl-C whilst the terminal
has focus.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>That&#8217;s it, JBoss WildFly is installed and running! Visit <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a> to check the server has started properly.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can find the server log for standalone instances in
<code>wildfly-11.x.x.x/standalone/log/server.log</code>. The
<a href="http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Application_Platform/7/html/Administration_and_Configuration_Guide/index.html">Administration and Configuration Guide for JBoss Enterprise Application Platform 7</a> or the
<a href="https://docs.jboss.org/author/display/WFLY/Getting+Started+Guide">Getting Started Guide for JBoss WildFly</a>
covers more on configuring logging.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="starting-the-jboss-server-from-codeready-studio-or-eclipse-with-jboss-tools"><a class="anchor" href="#starting-the-jboss-server-from-codeready-studio-or-eclipse-with-jboss-tools"></a>2.3. Starting the JBoss server from CodeReady Studio or Eclipse with JBoss Tools</h3>
<div id="GettingStarted-with_jboss_tools" class="paragraph">
<p>You may choose to use CodeReady Studio, or Eclipse with JBoss Tools, rather than the command line to run JBoss WildFly, and to deploy the quickstarts. If you don&#8217;t wish to use Eclipse, you should skip this section.</p>
</div>
<div class="paragraph">
<p>Make sure you have installed and started CodeReady Studio or Eclipse. First, we need to add our WildFly instance to it. First, navigate to <em>Preferences</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Detect_Servers_1.png" alt="Eclipse Detect Servers 1"></span></p>
</div>
<div class="paragraph">
<p>Now, locate the <em>JBoss Tools Runtime Detection</em> preferences:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Detect_Servers_2.png" alt="Eclipse Detect Servers 2"></span></p>
</div>
<div class="paragraph">
<p>Click <em>Add</em> and locate where you put servers on your disk:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Detect_Servers_3.png" alt="Eclipse Detect Servers 3"></span></p>
</div>
<div class="paragraph">
<p>Any available servers will be located, now all you need to do is click <em>OK</em>, and then <em>OK</em> on the preferences dialog:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Detect_Servers_4.png" alt="Eclipse Detect Servers 4"></span></p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s start the server from Eclipse. If you previously started a server from the command line, you should stop it there first.</p>
</div>
<div class="paragraph">
<p>First, we need to make sure the Server tab is on view. Open the <em>Window &#8594; Show View &#8594; Other&#8230;&#8203;</em> dialog:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Server_Tab_1.jpg" alt="Eclipse Server Tab 1"></span></p>
</div>
<div class="paragraph">
<p>And select the Server view:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Server_Tab_2.jpg" alt="Eclipse Server Tab 2"></span></p>
</div>
<div class="paragraph">
<p>You should see the Server View appear with the detected servers:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Server_Tab_3.jpg" alt="Eclipse Server Tab 3"></span></p>
</div>
<div class="paragraph">
<p>Now, we can start the server. Right click on the server in the Server view, and select Start :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Server_Start_1.jpg" alt="Eclipse Server Start 1"></span></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to debug your application, you can simply select Debug
rather than Start . This will start the server in debug mode, and
automatically attach the Eclipse debugger.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You&#8217;ll see the server output in the Console :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Eclipse_Server_Start_2.jpg" alt="Eclipse Server Start 2"></span></p>
</div>
<div class="paragraph">
<p>That&#8217;s it, we now have the server up and running in Eclipse!</p>
</div>
</div>
<div class="sect2">
<h3 id="importing-the-quickstarts-into-eclipse"><a class="anchor" href="#importing-the-quickstarts-into-eclipse"></a>2.4. Importing the quickstarts into Eclipse</h3>
<div id="GettingStarted-importing_quickstarts_into_eclipse" class="paragraph">
<p>In order to import the quickstarts into Eclipse, you will need m2eclipse installed. If you have CodeReady Studio, then m2eclipse is already installed.</p>
</div>
<div class="paragraph">
<p>First, choose <em>File &#8594; Import&#8230;&#8203;</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Import_Quickstarts_1.jpg" alt="Import Quickstarts 1"></span></p>
</div>
<div class="paragraph">
<p>Select <em>Existing Maven Projects</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Import_Quickstarts_2.jpg" alt="Import Quickstarts 2"></span></p>
</div>
<div class="paragraph">
<p>Click on <em>Browse</em>, and navigate to the <code>quickstarts/</code> directory:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Import_Quickstarts_3.jpg" alt="Import Quickstarts 3"></span></p>
</div>
<div class="paragraph">
<p>Finally, make sure all 4 quickstarts are found and selected, and click <em>Finish</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Import_Quickstarts_4.jpg" alt="Import Quickstarts 4"></span></p>
</div>
<div class="paragraph">
<p>Eclipse should now successfully import 4 projects:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="gfx/Import_Quickstarts_5.jpg" alt="Import Quickstarts 5"></span></p>
</div>
<div class="paragraph">
<p>It will take a short time to import the projects, as Maven needs to download the project&#8217;s dependencies from remote repositories.</p>
</div>
</div>
<div class="sect2">
<h3 id="managing-jboss-wildfly"><a class="anchor" href="#managing-jboss-wildfly"></a>2.5. Managing JBoss WildFly</h3>
<div class="paragraph">
<p>Here we will quickly outline how you can access both the command line interface and the web management interface for managing JBoss WildFly. Detailed information for both can be found in the <a href="http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Application_Platform/6/html/Administration_and_Configuration_Guide/index.html">Administration and Configuration Guide for JBoss Enterprise Application Platform 6</a> or the <a href="https://docs.jboss.org/author/display/WFLY/Admin+Guide">Admin Guide for JBoss WildFly</a>.</p>
</div>
<div class="paragraph">
<p>When the server is running, the web management interface can be accessed at <a href="http://localhost:9990/console" class="bare">http://localhost:9990/console</a>. You can use the web management interface to create datasources, manage deployments and configure the server.</p>
</div>
<div class="paragraph">
<p>JBoss WildFly also comes with a command line interface. To run it on Linux, Unix or Mac, execute:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>wildfly-11.x.x.x/bin/jboss-admin.sh --connect</pre>
</div>
</div>
<div class="paragraph">
<p>Or, on Windows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>wildfly-11.x.x.x/bin/jboss-admin.bat --connect</pre>
</div>
</div>
<div class="paragraph">
<p>Once started, type help to discover the commands available to you.</p>
</div>
<div class="paragraph">
<p>Throughout this guide we use the <code>wildfly</code> maven plugin to deploy and undeploy applications. This plugin uses the Native Java Detyped Management API to communicate with the server. The Detyped API is used by management tools to control an entire domain of servers, and exposes only a small number of types, allowing for backwards and forwards compatibility.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cdi-servlet-helloworld-quickstart"><a class="anchor" href="#cdi-servlet-helloworld-quickstart"></a>3. CDI + Servlet: Helloworld quickstart</h2>
<div class="sectionbody">
<div id="HelloworldQuickstart-" class="paragraph">
<p>This quickstart shows you how to deploy a simple servlet to JBoss WildFly. The business logic is encapsulated in a service, which is provided as a CDI bean, and injected into the Servlet.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Contexts and Dependency Injection for Jakarta EE</div>
<div class="paragraph">
<p>CDI is a specification in Jakarta EE, inspired by JBoss Seam and
Google Guice, and also drawing on lessons learned from frameworks such
as Spring. It allows application developers to concentrate on developing
their application logic by providing the ability to wire services
together, and abstract out orthogonal concerns, all in a type safe
manner.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Switch to the <code>quickstarts/helloworld</code> directory and instruct Maven to build and deploy the application:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn package wildfly:deploy</pre>
</div>
</div>
<div class="paragraph">
<p>The quickstart uses a Maven plugin to deploy the application. The plugin requires JBoss WildFly to be running (you can find out how to start the server in <a href="#GettingStarted-on_linux">Installing and starting the JBoss server on Linux, Unix or Mac OS X</a> or <a href="#GettingStarted-on_windows">Installing and starting the JBoss server on Windows</a>).</p>
</div>
<div class="paragraph">
<p>Now, check if the application has deployed properly by clicking <a href="http://localhost:8080/wildfly-helloworld/HelloWorld" class="bare">http://localhost:8080/wildfly-helloworld/HelloWorld</a>. If you see a "Hello World" message it&#8217;s all working!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Should you wish to undeploy the quickstart, or redeploy after making
some changes, it&#8217;s pretty easy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mvn wildfly:deploy</code> - deploy any changes to the application to the
application server</p>
</li>
<li>
<p><code>mvn wildfly:undeploy</code> - undeploy the quickstart</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It&#8217;s time to pull the covers back and dive into the internals of the quickstart.</p>
</div>
<div class="paragraph">
<p>Deploying the Helloworld quickstart using CodeReady Studio, or Eclipse with JBoss Tools</p>
</div>
<div class="listingblock">
<div class="content">
<pre>You may choose to deploy the quickstart using CodeReady Studio, or Eclipse with JBoss Tools. You'll need to have JBoss WildFly started in the IDE (as described  in &lt;&lt;GettingStarted-with_jboss_tools, Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and to have imported the quickstarts into Eclipse (as described in &lt;&lt;GettingStarted-importing_quickstarts_into_eclipse,Importing the quickstarts into Eclipse&gt;&gt;).

With the quickstarts imported, you can deploy the quickstart by right clicking on the `wildfly-helloworld` project, and choosing _Run As -&gt; Run On Server_:

image:gfx/Eclipse_Helloworld_Deploy_1.jpg[]

Make sure the correct server is selected, and hit Finish:

image:gfx/Eclipse_Deploy_2.jpg[]

You should see the server start up (unless you already started it in &lt;&lt;GettingStarted-with_jboss_tools, Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and the application deploy in the Console log

image:gfx/Eclipse_Helloworld_Deploy_3.jpg[]


The helloworld quickstart in depth
----------------------------------

The quickstart is very simple - all it does is print "Hello World" onto a web page.

The helloworld quickstart is comprised of a servlet and a CDI bean. We also include an empty `beans.xml` file, which tells JBoss WildFly to look for beans in this application and to activate the CDI. `beans.xml` is located in `WEB-INF/`, which can be found in the `src/main/webapp` directory. Also in this directory we include `index.html` which uses a simple meta refresh to send the users browser to the Servlet, which is located at http://localhost:8080/wildfly-helloworld/HelloWorld.

All the configuration files for this quickstart are located in `WEB-INF/`, which can be found in the `src/main/webapp` directory.

Notice that we don't even need a `web.xml`!

Let's start by taking a look at the servlet:

.src/main/java/org/jboss/as/quickstarts/helloworld/HelloWorldServlet.java
[source,java]
------------------------------------------------------------------------
@SuppressWarnings("serial")
@WebServlet("/HelloWorld")                                           <i class="conum" data-value="1"></i><b>(1)</b>
public class HelloWorldServlet extends HttpServlet {

   static String PAGE_HEADER =
       "&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;";                <i class="conum" data-value="2"></i><b>(2)</b>

   static String PAGE_FOOTER = "&lt;/body&gt;&lt;/html&gt;";

   @Inject
   HelloService helloService;                                        <i class="conum" data-value="3"></i><b>(3)</b>

   @Override
   protected void doGet(HttpServletRequest req,
                        HttpServletResponse resp)
                        throws ServletException, IOException {
      resp.setContentType("text/html");
      PrintWriter writer = resp.getWriter();
      writer.println(PAGE_HEADER);
      writer.println("&lt;h1&gt;" +
                     helloService.createHelloMessage("World") +      <i class="conum" data-value="4"></i><b>(4)</b>
                     "&lt;/h1&gt;");
      writer.println(PAGE_FOOTER);
      writer.close();
   }

}
------------------------------------------------------------------------
&lt;1&gt; If you've used Servlet before, then you'll remember having to use xml to register your servlets. Fortunately, this is a thing of the past. Now all you need to do is add the @WebServlet annotation, and provide a mapping to a URL used to access the servlet. Much cleaner!
&lt;2&gt; Every web page needs to be correctly formed HTML. We've created static Strings to hold the minimum header and footer to write out.
&lt;3&gt; We inject the HelloService (a CDI bean) which generates the actual message. This allows to alter the implementation of HelloService at a later date without changing the view layer at all (assuming we don't alter the API of HelloService ).
&lt;4&gt; We call into the service to generate the message "Hello World", and write it out to the HTTP request.

[TIP]
========================================================================
The package declaration and imports have been excluded from these
listings. The complete listing is available in the quickstart source.
========================================================================

Now we understand how the information is sent to the browser, let's take a look at the service.

.src/main/java/org/jboss/as/quickstarts/helloworld/HelloService.java
------------------------------------------------------------------------
public class HelloService {

   String createHelloMessage(String name) {
      return "Hello " + name + "!";
   }

}
------------------------------------------------------------------------

The service is very simple - no registration (XML or annotation) is required!


CDI + JSF: Numberguess quickstart
=================================
:Author: Pete Muir

[[NumberguessQuickstart-]]

This quickstart shows you how to create and deploy a simple application to JBoss WildFly; the application does not persist any information. Information is displayed using a JSF view, and business logic is encapsulated in two CDI beans.

Switch to the `quickstarts/numberguess` directory and instruct Maven to build and deploy the application:

    mvn package wildfly:deploy

The quickstart uses a Maven plugin to deploy the application. The plugin requires JBoss WildFly to be running (you can find out how to start the server in &lt;&lt;GettingStarted-on_linux, Installing and starting the JBoss server on Linux, Unix or Mac OS X&gt;&gt; or &lt;&lt;GettingStarted-on_windows, Installing and starting the JBoss server on Windows&gt;&gt;).

Or you can start the server using an IDE, like CodeReady Studio.

Now, see if you can determine the most efficient approach to pinpoint the random number at the URL http://localhost:8080/wildfly-numberguess.

[TIP]
========================================================================
Should you wish to undeploy the quickstart, or redeploy after making
some changes, it's pretty easy:

* `mvn wildfly:deploy` - deploy any changes to the application to the
  application server
* `mvn wildfly:undeploy` - undeploy the quickstart
========================================================================

It's time to pull the covers back and dive into the internals of the quickstart.


Deploying the Numberguess quickstart using Eclipse
--------------------------------------------------

You may choose to deploy the quickstart using Eclipse. You'll need to have JBoss WildFly started in Eclipse as described  in &lt;&lt;GettingStarted-with_jboss_tools, Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and to have imported the quickstarts into Eclipse (as described in &lt;&lt;GettingStarted-importing_quickstarts_into_eclipse, Importing the quickstarts into Eclipse&gt;&gt;).

With the quickstarts imported, you can deploy the quickstart by right clicking on the `wildfly-numberguess` project, and choosing _Run As -&gt; Run On Server_:

image:gfx/Eclipse_Numberguess_Deploy_1.jpg[]

Make sure the correct server is selected, and hit Finish:

image:gfx/Eclipse_Deploy_2.jpg[]

You should see the server start up (unless you already started it in &lt;&lt;GettingStarted-with_jboss_tools, Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and the application deploy in the Console log:

image:gfx/Eclipse_Numberguess_Deploy_3.jpg[]


The numberguess quickstart in depth
-----------------------------------

In the numberguess application you get 10 attempts to guess a number between 1 and 100. After each attempt, you're told whether your guess was too high or too low.

The quickstart is comprised of a number of beans, configuration files and Facelets (JSF) views, packaged as a war module. Let's start by examining the configuration files.

All the configuration files for this quickstart are located in `WEB-INF/`, which can be found in the `src/main/webapp` directory. First, we have the JSF 2.0 version of `faces-config.xml`. A standardized version of Facelets is the default view handler in JSF 2.0, so there's really nothing that we have to configure. WildFly goes above and beyond Jakarta EE here, and will automatically configure JSF for you if you include this file. Thus, the configuration consists of only the root element.

.src/main/webapp/WEB-INF/faces-config.xml
[source,xml]
------------------------------------------------------------------------
&lt;faces-config version="2.0"
   xmlns="http://java.sun.com/xml/ns/javaee"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="
      http://java.sun.com/xml/ns/javaee
      http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"&gt;

&lt;/faces-config&gt;
------------------------------------------------------------------------

There's also an empty `beans.xml` file, which tells WildFly to look for beans in this  application and to activate the CDI.

Notice that we don't even need a `web.xml`!

Let's take a look at the main JSF view, `src/main/webapp/home.xhtml`.


[TIP]
========================================================================
JSF uses the .xhtml extension for source files, but serves up the
rendered views with the .jsf extension.
========================================================================

.src/main/webapp/WEB-INF/home.xhtml
[source,html]
------------------------------------------------------------------------
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"&gt;

&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html;
    charset=iso-8859-1" /&gt;
&lt;title&gt;numberguess&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
   &lt;div id="content"&gt;
      &lt;h1&gt;Guess a number...&lt;/h1&gt;
      &lt;h:form id="numberGuess"&gt;

         &lt;!-- Feedback for the user on their guess --&gt;
         &lt;div style="color: red"&gt;                                    <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;h:messages id="messages" globalOnly="false" /&gt;
            &lt;h:outputText id="Higher" value="Higher!"
               rendered="#{game.number gt game.guess and game.guess ne 0}" /&gt;
            &lt;h:outputText id="Lower" value="Lower!"
               rendered="#{game.number lt game.guess and game.guess ne 0}" /&gt;
         &lt;/div&gt;

         &lt;!-- Instructions for the user --&gt;
         &lt;div&gt;                                                       <i class="conum" data-value="2"></i><b>(2)</b>
            I'm thinking of a number between &lt;span
               id="numberGuess:smallest"&gt;#{game.smallest}&lt;/span&gt; and &lt;span
               id="numberGuess:biggest"&gt;#{game.biggest}&lt;/span&gt;. You have
            #{game.remainingGuesses} guesses remaining.
         &lt;/div&gt;

         &lt;!-- Input box for the users guess, plus a button to submit, and reset --&gt;
         &lt;!-- These are bound using EL to our CDI beans --&gt;
         &lt;div&gt;
            Your guess:                                              <i class="conum" data-value="3"></i><b>(3)</b>
            &lt;h:inputText id="inputGuess" value="#{game.guess}"
               required="true" size="3"
               disabled="#{game.number eq game.guess}"
               validator="#{game.validateNumberRange}" /&gt;            <i class="conum" data-value="4"></i><b>(4)</b>
            &lt;h:commandButton id="guessButton" value="Guess"
               action="#{game.check}"
               disabled="#{game.number eq game.guess}" /&gt;
         &lt;/div&gt;
         &lt;div&gt;                                                       <i class="conum" data-value="5"></i><b>(5)</b>
            &lt;h:commandButton id="restartButton" value="Reset"
               action="#{game.reset}" immediate="true" /&gt;
         &lt;/div&gt;
      &lt;/h:form&gt;

   &lt;/div&gt;

   &lt;br style="clear: both" /&gt;

&lt;/body&gt;
&lt;/html&gt;
------------------------------------------------------------------------

&lt;1&gt; There are a number of messages which can be sent to the user, "Higher!" and "Lower!"
&lt;2&gt; As the user guesses, the range of numbers they can guess gets smaller - this sentence changes to make sure they know the number range of a valid guess.
&lt;3&gt; This input field is bound to a bean property using a value expression.
&lt;4&gt; A validator binding is used to make sure the user doesn't accidentally input a number outside of the range in which they can guess - if the validator wasn't here, the user might use up a guess on an out of bounds number.
&lt;5&gt; There must be a way for the user to send their guess to the server. Here we bind to an action method on the bean.

The quickstart consists of 4 classes, the first two of which are qualifiers.  First, there is the `@Random` qualifier, used for injecting a random number:

[TIP]
========================================================================
A _qualifier_ is used to disambiguate between two beans both of which
are eligible for injection based on their type. For more, see the
link:http://docs.jboss.org/weld/reference/latest/en-US/html/[Weld Reference Guide].
========================================================================

.src/main/java/org/jboss/as/quickstarts/numberguess/Random.java
[source,java]
------------------------------------------------------------------------
@Target({ TYPE, METHOD, PARAMETER, FIELD })
@Retention(RUNTIME)
@Documented
@Qualifier
public @interface Random {

}
------------------------------------------------------------------------

There is also the `@MaxNumber` qualifier, used for injecting the maximum number that can be injected:

.src/main/java/org/jboss/as/quickstarts/numberguess/MaxNumber.java
[source,java]
------------------------------------------------------------------------
@Retention(RUNTIME)
@Documented
@Qualifier
public @interface MaxNumber {

}
------------------------------------------------------------------------

The application-scoped `Generator` class is responsible for creating the random number, via a producer method. It also exposes the maximum possible number via a producer method:

.src/main/java/org/jboss/as/quickstarts/numberguess/Generator.java
[source,java]
------------------------------------------------------------------------
@SuppressWarnings("serial")
@ApplicationScoped
public class Generator implements Serializable {

   private java.util.Random random = new java.util.Random(System.currentTimeMillis());

   private int maxNumber = 100;

   java.util.Random getRandom() {
      return random;
   }

   @Produces
   @Random
   int next() {
      // a number between 1 and 100
      return getRandom().nextInt(maxNumber - 1) + 1;
   }

   @Produces
   @MaxNumber
   int getMaxNumber() {
      return maxNumber;
   }
}
------------------------------------------------------------------------

The `Generator` is application scoped, so we don't get a different random each time.

The final bean in the application is the session-scoped `Game` class. This is the primary entry point of the application. It's responsible for setting up or resetting the game, capturing and validating the user's guess and providing feedback to the user with a `FacesMessage`. We've used the post-construct lifecycle method to initialize the game by retrieving a random number from the `@RandomInstance&lt;Integer&gt;` bean.

You'll notice that we've also added the `@Named` annotation to this class. This annotation is only required when you want to make the bean accessible to a JSF view via EL (i.e. `#{game}`)

.src/main/java/org/jboss/as/quickstarts/numberguess/Game.java
[source,java]
------------------------------------------------------------------------
@SuppressWarnings("serial")
@Named
@SessionScoped
public class Game implements Serializable {

   /**
    * The number that the user needs to guess
    */
   private int number;

   /**
    * The users latest guess
    */
   private int guess;

   /**
    * The smallest number guessed so far (so we can track the valid guess range).
    */
   private int smallest;

   /**
    * The largest number guessed so far
    */
   private int biggest;

   /**
    * The number of guesses remaining
    */
   private int remainingGuesses;

   /**
    * The maximum number we should ask them to guess
    */
   @Inject
   @MaxNumber
   private int maxNumber;

   /**
    * The random number to guess
    */
   @Inject
   @Random
   Instance&lt;Integer&gt; randomNumber;

   public Game() {
   }

   public int getNumber() {
      return number;
   }

   public int getGuess() {
      return guess;
   }

   public void setGuess(int guess) {
      this.guess = guess;
   }

   public int getSmallest() {
      return smallest;
   }

   public int getBiggest() {
      return biggest;
   }

   public int getRemainingGuesses() {
      return remainingGuesses;
   }

   /**
    * Check whether the current guess is correct, and update the biggest/smallest guesses as needed.
    * Give feedback to the user if they are correct.
    */
   public void check() {
      if (guess &gt; number) {
         biggest = guess - 1;
      } else if (guess &lt; number) {
         smallest = guess + 1;
      } else if (guess == number) {
         FacesContext.getCurrentInstance().addMessage(null, new FacesMessage("Correct!"));
      }
      remainingGuesses--;
   }

   /**
    * Reset the game, by putting all values back to their defaults, and getting a new random number.
    * We also call this method when the user starts playing for the first time using
    * {@linkplain PostConstruct @PostConstruct} to set the initial values.
    */
   @PostConstruct
   public void reset() {
      this.smallest = 0;
      this.guess = 0;
      this.remainingGuesses = 10;
      this.biggest = maxNumber;
      this.number = randomNumber.get();
   }

   /**
    * A JSF validation method which checks whether the guess is valid. It might not be valid because
    * there are no guesses left, or because the guess is not in range.
    *
    */
   public void validateNumberRange(FacesContext context, UIComponent toValidate, Object value) {
      if (remainingGuesses &lt;= 0) {
         FacesMessage message = new FacesMessage("No guesses left!");
         context.addMessage(toValidate.getClientId(context), message);
         ((UIInput) toValidate).setValid(false);
         return;
      }
      int input = (Integer) value;

      if (input &lt; smallest || input &gt; biggest) {
         ((UIInput) toValidate).setValid(false);

         FacesMessage message = new FacesMessage("Invalid guess");
         context.addMessage(toValidate.getClientId(context), message);
      }
   }
}

------------------------------------------------------------------------


CDI + JPA + EJB + JTA + JSF: Greeter quickstart
===============================================
:Author: Pete Muir

[[GreeterQuickstart-]]

This quickstart shows you how to create and deploy an application which persists information to a database to JBoss WildFly. Information is displayed using JSF views, business logic is encapsulated in CDI beans, information is persisted using JPA, and transactions can be controlled manually or using EJB.

Switch to the `quickstarts/greeter` directory and instruct Maven to build and deploy the application:

    mvn package wildfly:deploy


The quickstart uses a Maven plugin to deploy the application. The plugin requires JBoss WildFly to be running (you can find out how to start the server in &lt;&lt;GettingStarted-on_linux, Installing and starting the JBoss server on Linux, Unix or Mac OS X&gt;&gt; or &lt;&lt;GettingStarted-on_windows, Installing and starting the JBoss server on Windows&gt;&gt;).

Or you can start the server using an IDE, like CodeReady Studio. If you are using CodeReady Studio, you can deploy the quickstart by right clicking on the `greeter` project, and choosing _Run As -&gt; Run On Server_:

image:gfx/Eclipse_Greeter_Deploy_1.png[]

Make sure the server is selected, and hit Finish:

image:gfx/Eclipse_Deploy_2.jpg[]

You should see the server start up (unless you already started it in &lt;&lt;GettingStarted-with_jboss_tools,Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and the application deploy in the Console log:

image:gfx/Eclipse_Greeter_Deploy_3.png[]

To use the application, visit http://localhost:8080/greeter/.

[[greeter_in_depth]]
The greeter quickstart in depth
-------------------------------

In the quickstart, all users are stored in an H2 database (an in-memory, embedded database provided out of the box in JBoss WildFly). Each user is stored as an entity, and entities are mapped to the database using JPA. By default, transactions are managed manually, using the JTA API. Optionally, you can use EJB to manage transactions (we'll look at how to enable that later). We need a transaction in progress in order to read and write any entities.

The quickstart is comprised of two JSF views, an entity, and a number of CDI beans. Additionally, there are the usual configuration files in `WEB-INF/` (which can be found in the `src/main/webapp` directory). Here we find `beans.xml` and `faces-config.xml` which tell JBoss WildFly to enable CDI and JSF for the application. Notice that we don't need a `web.xml`. There are two new configuration files in `WEB-INF/classes/META-INF` (which can be found in the `src/main/resources` directory of the quickstart) — `persistence.xml`, which sets up JPA, and `import.sql` which Hibernate, the JPA provider in  JBoss WildFly, will use to load the initial users into the application when the application starts.

`persistence.xml` is pretty straight forward, and links JPA to a datasource:

.src/main/resources/META-INF/persistence.xml
[source, xml]
------------------------------------------------------------------------
&lt;persistence version="2.0"
    xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://java.sun.com/xml/ns/persistence
        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;
    &lt;persistence-unit name="primary"&gt;                                <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;!-- If you are running in a production environment, add a
             managed  data source, this example data source is just
             for development and testing! --&gt;
        &lt;!-- The datasource is deployed as
             WEB-INF/greeter-quickstart-ds.xml, you can find it in
             the source at
             src/main/webapp/WEB-INF/greeter-quickstart-ds.xml --&gt;
        &lt;jta-data-source&gt;java:jboss/datasources/GreeterQuickstartDS&lt;/jta-data-source&gt; <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;properties&gt;
            &lt;!-- Properties for Hibernate --&gt;                        <i class="conum" data-value="3"></i><b>(3)</b>
            &lt;property name="hibernate.hbm2ddl.auto"
                      value="create-drop" /&gt;
            &lt;property name="hibernate.show_sql"
                      value="false" /&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;
------------------------------------------------------------------------

&lt;1&gt; The persistence unit is given a name, so that the application can use multiple if needed. If only one is defined, JPA will automatically use it.
&lt;2&gt; The persistence unit references a data source. Here we are using the built in, sample, data source.
&lt;3&gt; JPA allows us to configure the JPA provider specific properties. Here we tell Hibernate to automatically create any needed tables when the application starts (and drop them when the application is stopped).

[TIP]
========================================================================
JBoss WildFly ships with a
sample datasource `java:jboss/datasources/ExampleDS`. This data source
is backed by H2, an in-memory database. Whilst this datasource is great
for quickstarts, you will probably want to use a different datasource in
your application. The link:http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Application_Platform/6/html/Administration_and_Configuration_Guide/index.html[Administration and Configuration Guide for JBoss Enterprise Application Platform 6] or the
link:https://docs.jboss.org/author/display/WFLY/Getting+Started+Guide[Getting Started Guide for JBoss WildFly]
tells you how to create a new datasource.
========================================================================

Let's take a look at the JSF views. First up is `src/main/webapp/greet.xhtml`:

.src/main/webapp/greet.xhtml
[source,html]
------------------------------------------------------------------------
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"&gt;

&lt;ui:composition template="template.xhtml"&gt;                           <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;ui:define name="content"&gt;
        &lt;h:messages /&gt;                                               <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;h:form id="greetForm"&gt;
            &lt;h:panelGrid columns="3"&gt;
                &lt;h:outputLabel for="username"&gt;Enter username:&lt;/h:outputLabel&gt;
                &lt;h:inputText id="username"
                    value="#{greetController.username}" /&gt;
                &lt;h:message for="username" /&gt;
            &lt;/h:panelGrid&gt;
            &lt;h:commandButton id="greet" value="Greet!"
                action="#{greetController.greet}" /&gt;
        &lt;/h:form&gt;
        &lt;h:outputText value="#{greetController.greeting}"
            rendered="#{not empty greetController.greeting}" /&gt;      <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;br /&gt;
        &lt;h:link outcome="/create.xhtml" value="Add a new user" /&gt;    <i class="conum" data-value="4"></i><b>(4)</b>
    &lt;/ui:define&gt;
&lt;/ui:composition&gt;
&lt;/html&gt;
------------------------------------------------------------------------

&lt;1&gt; As we have multiple views in this application, we've created a template that defines the common elements. We'll examine this next. Here we define the "content" section of the page, which will be inserted into the template.
&lt;2&gt; We output any messages for the user at the top of the form, e.g. when a new user is created.
&lt;3&gt; The greeting message is only rendered if there is a message.
&lt;4&gt; We also a link to the page which allows a user to be added.

Now let's take a look at the template. It defines common elements for the page, and allows pages which use it to insert content in various places.

.src/main/webapp/template.xhtml
[source,html]
------------------------------------------------------------------------
&lt;!-- The template for our app, defines some regions --&gt;

&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;title&gt;greeter&lt;/title&gt;
&lt;ui:insert name="head" /&gt;                                            <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/head&gt;

&lt;body&gt;

    &lt;div id="container"&gt;
        &lt;div id="header"&gt;&lt;/div&gt;

        &lt;div id="sidebar"&gt;&lt;/div&gt;

        &lt;div id="content"&gt;
            &lt;ui:insert name="content" /&gt;                             <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;/div&gt;

        &lt;br style="clear: both" /&gt;
    &lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
------------------------------------------------------------------------

&lt;1&gt; The head, defined in case a page wants to add some content to the head of the page.
&lt;2&gt; The content, defined by a page using this template, will be inserted here

Finally, let's take a look at the user management page. It provides a form to add users:

.src/main/webapp/create.xhtml
[source,html]
------------------------------------------------------------------------
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"&gt;

&lt;ui:composition template="template.xhtml"&gt;
    &lt;ui:define name="content"&gt;
        &lt;h:messages /&gt;
        &lt;h:form&gt;
            &lt;h:panelGrid columns="3"&gt;
                &lt;h:outputLabel for="username"&gt;Enter username:&lt;/h:outputLabel&gt;
                &lt;h:inputText id="username" value="#{newUser.username}" /&gt;
                &lt;h:message for="username" /&gt;

                &lt;h:outputLabel for="firstName"&gt;Enter first name:&lt;/h:outputLabel&gt;
                &lt;h:inputText id="firstName" value="#{newUser.firstName}" /&gt;
                &lt;h:message for="firstName" /&gt;

                &lt;h:outputLabel for="lastName"&gt;Enter last name:&lt;/h:outputLabel&gt;
                &lt;h:inputText id="lastName" value="#{newUser.lastName}" /&gt;
                &lt;h:message for="lastName" /&gt;

            &lt;/h:panelGrid&gt;
            &lt;h:commandButton action="#{createController.create}"
                value="Add User" /&gt;
        &lt;/h:form&gt;
        &lt;h:link outcome="/greet.xhtml"&gt;Greet a user!&lt;/h:link&gt;
    &lt;/ui:define&gt;
&lt;/ui:composition&gt;
&lt;/html&gt;
------------------------------------------------------------------------

The quickstart has one entity, which is mapped via JPA to the relational database:

.src/main/java/org/jboss/as/quickstarts/greeter/domain/User.java
[source,java]
------------------------------------------------------------------------
@Entity                                                              <i class="conum" data-value="1"></i><b>(1)</b>
public class User {

    @Id                                                              <i class="conum" data-value="2"></i><b>(2)</b>
    @GeneratedValue
    private Long id;

    @Column(unique = true)
    private String username;

    private String firstName;                                        <i class="conum" data-value="3"></i><b>(3)</b>

    private String lastName;

    public Long getId() {                                            <i class="conum" data-value="4"></i><b>(4)</b>
        return id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

}
------------------------------------------------------------------------
&lt;1&gt; The `@Entity` annotation used on the class tells JPA that this class should be mapped as a table in the database.
&lt;2&gt; Every entity requires an id, the `@Id` annotation placed on a field (or a JavaBean mutator/accessor) tells JPA that this property is the id. You can use a synthetic id, or a natural id (as we do here).
&lt;3&gt; The entity also stores the real name of the user
&lt;4&gt; As this is Java, every property needs an accessor/mutator!

We use a couple of controller classes to back the JSF pages. First up is `GreetController` which is responsible for getting the user's real name from persistence layer, and then constructing the message.

.src/main/java/org/jboss/as/quickstarts/greeter/web/GreetController.java
[source,java]
------------------------------------------------------------------------
@Named                                                               <i class="conum" data-value="1"></i><b>(1)</b>
@RequestScoped                                                       <i class="conum" data-value="2"></i><b>(2)</b>
public class GreetController {

    @Inject
    private UserDao userDao;                                         <i class="conum" data-value="3"></i><b>(3)</b>

    private String username;

    private String greeting;

    public void greet() {
        User user = userDao.getForUsername(username);
        if (user != null) {
            greeting = "Hello, " +
                       user.getFirstName() +
                       " " +
                       user.getLastName() +
                       "!";
        } else {
            greeting =
                "No such user exists! Use 'emuster' or 'jdoe'";
        }
    }

    public String getUsername() {                                    <i class="conum" data-value="4"></i><b>(4)</b>
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getGreeting() {
        return greeting;
    }

}
------------------------------------------------------------------------
&lt;1&gt; The bean is given a name, so we can access it from JSF
&lt;2&gt; The bean is request scoped, a different greeting can be made in each request
&lt;3&gt; We inject the `UserDao`, which handles database abstraction
&lt;4&gt; We need to expose JavaBean style mutators and accessors for every property the JSF page needs to access to

The second controller class is responsible for adding a new user:

.src/main/java/org/jboss/as/quickstarts/greeter/web/CreateController.java
[source,java]
------------------------------------------------------------------------
@Named                                                               <i class="conum" data-value="1"></i><b>(1)</b>
@RequestScoped                                                       <i class="conum" data-value="2"></i><b>(2)</b>
public class CreateController {

    @Inject                                                          <i class="conum" data-value="3"></i><b>(3)</b>
    private FacesContext facesContext;

    @Inject                                                          <i class="conum" data-value="4"></i><b>(4)</b>
    private UserDao userDao;

    @Named                                                           <i class="conum" data-value="5"></i><b>(5)</b>
    @Produces
    @RequestScoped
    private User newUser = new User();

    public void create() {
        try {
            userDao.createUser(newUser);
            String message = "A new user with id " +
                             newUser.getId() +
                             " has been created successfully";
            facesContext.addMessage(null, new FacesMessage(message));
        } catch (Exception e) {
            String message = "An error has occured while creating" +
                             " the user (see log for details)";
            facesContext.addMessage(null, new FacesMessage(message));
        }
    }
}
------------------------------------------------------------------------
&lt;1&gt; The bean is given a name, so we can access it from JSF
&lt;2&gt; The bean is request scoped, a different user can be added in each request
&lt;3&gt; We inject the `FacesContext`, to allow us to send messages to the user when the user is created, or if an error occurs
&lt;4&gt; We inject the `UserDao`, which handles database abstraction
&lt;5&gt; We expose a prototype user using a named producer, which allows us to access it from a JSF page

Now that we have the controllers in place, let's look at the most interesting part of the application, how we interact with the database. As we mentioned earlier, by default the application uses the JTA API to manually control transactions. To implement both approaches, we've defined a `UserDao` interface, with two implementations, one of which (the EJB variant) is as an alternative which can be enabled via a deployment descriptor. If you were wondering why we "hid" the persistence logic in the `UserDao`, rather than placing it directly in the controller classes, this is why!

Let's first look at the interface, and the manual transaction control variant.

.src/main/java/org/jboss/as/quickstarts/greeter/domain/UserDao.java
[source,java]
------------------------------------------------------------------------
public interface UserDao {
    User getForUsername(String username);

    void createUser(User user);
}
------------------------------------------------------------------------

The methods are fairly self explanatory, so let's move on quickly to the implementation, `ManagedBeanUserDao`:

.src/main/java/org/jboss/as/quickstarts/greeter/domain/ManagedBeanUserDao.java
[source,java]
------------------------------------------------------------------------
public class ManagedBeanUserDao implements UserDao {

    @Inject
    private EntityManager entityManager;                             <i class="conum" data-value="1"></i><b>(1)</b>

    @Inject
    private UserTransaction utx;                                     <i class="conum" data-value="2"></i><b>(2)</b>

    public User getForUsername(String username) {                    <i class="conum" data-value="3"></i><b>(3)</b>
        try {
            User user;
            try {
                utx.begin();
                Query query = entityManager.createQuery("select u from User u where u.username = :username");
                query.setParameter("username", username);
                user = (User) query.getSingleResult();
            } catch (NoResultException e) {
                user = null;
            }
            utx.commit();
            return user;
        } catch (Exception e) {
            try {
                utx.rollback();
            } catch (SystemException se) {
                throw new RuntimeException(se);
            }
            throw new RuntimeException(e);
        }
    }

    public void createUser(User user) {                              <i class="conum" data-value="4"></i><b>(4)</b>
        try {
            try {
                utx.begin();
                entityManager.persist(user);
            } finally {
                utx.commit();
            }
        } catch (Exception e) {
            try {
                utx.rollback();
            } catch (SystemException se) {
                throw new RuntimeException(se);
            }
            throw new RuntimeException(e);
        }
    }
}
------------------------------------------------------------------------
&lt;1&gt; We inject the entity manager. This was set up in `persistence.xml`.
&lt;2&gt; We inject the `UserTransaction`, to allow us to programmatically control the transaction
&lt;3&gt; The `getUserForUsername` method can check whether a user with a matching username and password exists, and return it if it does.
&lt;4&gt; `createUser` persists a new user to the database.

You've probably noticed two things as you've read through this. Firstly, that manually managing transactions is a real pain. Secondly, you may be wondering how the entity manager and the logger are injected. First, let's tidy up the transaction manager, and use EJB to provide us with declarative transaction support.

The class `EJBUserDao` provides this, and is defined as an alternative. Alternatives are disabled by default, and when enabled replace the original implementation. In order to enable this variant of `UserDao`, edit `beans.xml` and uncomment the alternative. Your `beans.xml` should now look like:

.src/main/webapp/WEB-INF/beans.xml
[source,xml]
------------------------------------------------------------------------
&lt;beans xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://java.sun.com/xml/ns/javaee
        http://java.sun.com/xml/ns/javaee/beans_1_0.xsd"&gt;

        &lt;!-- Uncomment this alternative to see EJB declarative transactions in use --&gt;
        &lt;alternatives&gt;
            &lt;class&gt;org.jboss.as.quickstarts.greeter.domain.EJBUserDao&lt;/class&gt;
        &lt;/alternatives&gt;
&lt;/beans&gt;
------------------------------------------------------------------------

Now, let's look at `EJBUserDao`:

.src/main/java/org/jboss/as/quickstarts/greeter/domain/EJBUserDao.java
[source,java]
------------------------------------------------------------------------
@Stateful
@Alternative
public class EJBUserDao implements UserDao {

    @Inject
    private EntityManager entityManager;

    public User getForUsername(String username) {
        try {
            Query query = entityManager.createQuery("select u from User u where u.username = ?");
            query.setParameter(1, username);
            return (User) query.getSingleResult();
        } catch (NoResultException e) {
            return null;
        }
    }

    public void createUser(User user) {
        entityManager.persist(user);
    }

}
------------------------------------------------------------------------

Using declarative transaction management has allowed us to remove a third of the lines of code from the class, but more importantly emphasizes the functionality of the class. Much better!


[NOTE]
========================================================================
Sharp eyed developers who are used to Jakarta EE will have noticed that we
have added this EJB to a war. This is the key improvement offered in
EJB 3.1.
========================================================================

Finally, let's take a look at the `Resources` class, which provides resources such as the entity manager. CDI recommends using "resource producers", as we do in this quickstart, to alias resources to CDI beans, allowing for a  consistent style throughout our application:

.src/main/java/org/jboss/as/quickstarts/greeter/Resources.java
[source,java]
------------------------------------------------------------------------
public class Resources {

    // Expose an entity manager using the resource producer pattern
    @SuppressWarnings("unused")
    @PersistenceContext
    @Produces
    private EntityManager em;                                        <i class="conum" data-value="1"></i><b>(1)</b>

    @Produces
    Logger getLogger(InjectionPoint ip) {                            <i class="conum" data-value="2"></i><b>(2)</b>
        String category = ip.getMember()
                            .getDeclaringClass()
                            .getName();
        return Logger.getLogger(category);
    }

    @Produces
    FacesContext getFacesContext() {                                 <i class="conum" data-value="3"></i><b>(3)</b>
        return FacesContext.getCurrentInstance();
    }

}
------------------------------------------------------------------------
&lt;1&gt; We use the "resource producer" pattern, from CDI, to "alias" the old fashioned `@PersistenceContext` injection of the entity manager to a CDI style injection. This allows us to use a consistent injection style (`@Inject`) throughout the application.
&lt;2&gt; We expose a JDK logger for injection. In order to save a bit more boiler plate, we automatically set the logger category as the class name!
&lt;3&gt; We expose the `FacesContext` via a producer method, which allows it to be injected. If we were adding tests, we could also then mock it out.


That concludes our tour of the greeter application!


CDI + JSF + EJB + JTA + Bean Validation + JAX-RS + Arquillian: Kitchensink quickstart
=====================================================================================
:Author: Pete Muir

[[KitchensinkQuickstart-]]

This quickstart shows off all the new features of Jakarta EE, and makes a great starting point for your project.

[TIP]
.Bean Validation
========================================================================
Bean Validation is a specification in Jakarta EE, inspired by
Hibernate Validator. It allows application developers to specify
constraints once (often in their domain model), and have them applied in
all layers of the application, protecting data and giving useful
feedback to users.
========================================================================

[TIP]
.JAX-RS: The Java API for RESTful Web Services
========================================================================
JAX-RS is a specification in Jakarta EE. It allows application
developers to easily expose Java services as RESTful web services.
========================================================================

Switch to the `quickstarts/kitchensink` directory and instruct Maven to build and deploy the application:

    mvn package wildfly:deploy

The quickstart uses a Maven plugin to deploy the application. The plugin requires JBoss WildFly to be running (you can find out how to start the server in &lt;&lt;GettingStarted-on_linux, Installing and starting the JBoss server on Linux, Unix or Mac OS X&gt;&gt; or &lt;&lt;GettingStarted-on_windows, Installing and starting the JBoss server on Windows&gt;&gt;).

Or you can start the server using an IDE, like Eclipse.

Now, check if the application has deployed properly by clicking http://localhost:8080/wildfly-kitchensink. If you see a splash page it's all working!


[TIP]
========================================================================
Should you wish to undeploy the quickstart, or redeploy after making
some changes, it's pretty easy:

* `mvn wildfly:deploy` - deploy any changes to the application to the
  application server
* `mvn wildfly:undeploy` - undeploy the quickstart
========================================================================

It's time to pull the covers back and dive into the internals of the application.

Deploying the Kitchensink quickstart using CodeReady Studio, or Eclipse with JBoss Tools
----------------------------------------------------------------------------------------------

You may choose to deploy the quickstart using CodeReady Studio, or Eclipse with JBoss Tools. You'll need to have JBoss WildFly started in the IDE (as described  in &lt;&lt;GettingStarted-with_jboss_tools, Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and to have imported the quickstarts into Eclipse (as described in &lt;&lt;GettingStarted-importing_quickstarts_into_eclipse,Importing the quickstarts into Eclipse&gt;&gt;).

With the quickstarts imported, you can deploy the quickstart by right clicking on the `wildfly-kitchensink` project, and choosing _Run As -&gt; Run On Server_:

image:gfx/Eclipse_KitchenSink_Deploy_1.jpg[]

Make sure the server is selected, and hit Finish:

image:gfx/Eclipse_Deploy_2.jpg[]

You should see the server start up (unless you already started it in  &lt;&lt;GettingStarted-with_jboss_tools, Starting the JBoss server from JBDS or Eclipse with JBoss Tools&gt;&gt;) and the application deploy in the Console log:

image:gfx/Eclipse_KitchenSink_Deploy_3.jpg[]


The kitchensink quickstart in depth
-----------------------------------

The kitchensink application shows off a number of Jakarta EE technologies such as CDI, JSF, EJB, JTA, JAX-RS and Arquillian. It does this by providing a member registration database, available via JSF and JAX-RS.

As usual, let's start by looking at the necessary deployment descriptors. By now, we're very used to seeing `beans.xml` and `faces-config.xml` in `WEB-INF/` (which can be found in the `src/main/webapp` directory). Notice that, once again, we don't need a `web.xml`. There are two configuration files in `WEB-INF/classes/META-INF` (which can be found in the `src/main/resources` directory) — `persistence.xml`, which sets up JPA, and `import.sql` which Hibernate, the JPA provider in JBoss WildFly, will use to load the initial users into the application when the application starts. We discussed both of these files in detail in &lt;&lt;GreeterQuickstart-,the Greeter Quickstart&gt;&gt;, and these are largely the same.

Next, let's take a look at the JSF view the user sees. As usual, we use a template to provide the sidebar and footer. This one lives in `src/main/webapp/WEB-INF/templates/default.xhtml`:

.src/main/webapp/WEB-INF/templates/default.xhtml
[source,html]
------------------------------------------------------------------------
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"&gt;
&lt;h:head&gt;                                                             <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;title&gt;kitchensink&lt;/title&gt;
    &lt;meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" /&gt;
    &lt;h:outputStylesheet name="css/screen.css" /&gt;
&lt;/h:head&gt;
&lt;h:body&gt;
    &lt;div id="container"&gt;
        &lt;div class="dualbrand"&gt;
            &lt;img src="resources/gfx/dualbrand_logo.png" /&gt;
        &lt;/div&gt;
        &lt;div id="content"&gt;
            &lt;ui:insert name="content"&gt;                               <i class="conum" data-value="2"></i><b>(2)</b>
                 [Template content will be inserted here]
            &lt;/ui:insert&gt;
        &lt;/div&gt;
        &lt;div id="aside"&gt;                                             <i class="conum" data-value="3"></i><b>(3)</b>
            &lt;p&gt;Learn more about JBoss Enterprise Application
                Platform 6.&lt;/p&gt;
            &lt;ul&gt;
                &lt;li&gt;
                    &lt;a href="http://red.ht/jbeap-6-docs"&gt;
                        Documentation
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;a href="http://red.ht/jbeap-6"&gt;
                        Product Information
                    &lt;/a&gt;
               &lt;/li&gt;
            &lt;/ul&gt;
            &lt;p&gt;Learn more about JBoss WildFly.&lt;/p&gt;
            &lt;ul&gt;
                &lt;li&gt;
                    &lt;a href="http://jboss.org/jdf/quickstarts/wildfly-quickstart/guide"&gt;
                        Getting Started Developing Applications Guide
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;a href="http://jboss.org/jbossas"&gt;
                        Community Project Information
                    &lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
        &lt;div id="footer"&gt;
            &lt;p&gt;
                This project was generated from a Maven archetype from
                JBoss.&lt;br /&gt;
            &lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/h:body&gt;
&lt;/html&gt;
------------------------------------------------------------------------
&lt;1&gt; We have a common `&lt;head&gt;` element, where we define styles and more
&lt;2&gt; The content is inserted here, and defined by views using this template
&lt;3&gt; This application defines a common sidebar and footer, putting them in the template means we only have to define them once

That leaves the main page, index.xhtml , in which we place the content unique to the main page:

.src/main/webapp/index.xhtml
[source,html]
------------------------------------------------------------------------
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="/WEB-INF/templates/default.xhtml"&gt;
    &lt;ui:define name="content"&gt;
        &lt;h1&gt;Welcome to JBoss!&lt;/h1&gt;

        &lt;h:form id="reg"&gt;                                            <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;h2&gt;Member Registration&lt;/h2&gt;
            &lt;p&gt;Enforces annotation-based constraints defined on the
                model class.&lt;/p&gt;
            &lt;h:panelGrid columns="3" columnClasses="titleCell"&gt;
                &lt;h:outputLabel for="name" value="Name:" /&gt;
                &lt;h:inputText id="name" value="#{newMember.name}" /&gt;  <i class="conum" data-value="2"></i><b>(2)</b>
                &lt;h:message for="name" errorClass="invalid" /&gt;

                &lt;h:outputLabel for="email" value="Email:" /&gt;
                &lt;h:inputText id="email"
                             value="#{newMember.email}" /&gt;           <i class="conum" data-value="2"></i><b>(2)</b>
                &lt;h:message for="email" errorClass="invalid" /&gt;

                &lt;h:outputLabel for="phoneNumber" value="Phone #:" /&gt;
                &lt;h:inputText id="phoneNumber"
                             value="#{newMember.phoneNumber}" /&gt;     <i class="conum" data-value="2"></i><b>(2)</b>
                &lt;h:message for="phoneNumber" errorClass="invalid" /&gt;
            &lt;/h:panelGrid&gt;

            &lt;p&gt;
                &lt;h:panelGrid columns="2"&gt;
                    &lt;h:commandButton id="register"
                        action="#{memberController.register}"
                        value="Register" styleClass="register" /&gt;
                    &lt;h:messages styleClass="messages"
                        errorClass="invalid" infoClass="valid"
                        warnClass="warning" globalOnly="true" /&gt;
                &lt;/h:panelGrid&gt;
            &lt;/p&gt;
        &lt;/h:form&gt;
        &lt;h2&gt;Members&lt;/h2&gt;
        &lt;h:panelGroup rendered="#{empty members}"&gt;
            &lt;em&gt;No registered members.&lt;/em&gt;
        &lt;/h:panelGroup&gt;
        &lt;h:dataTable var="_member" value="#{members}"
            rendered="#{not empty members}"
            styleClass="simpletablestyle"&gt;                           <i class="conum" data-value="3"></i><b>(3)</b>
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;Id&lt;/f:facet&gt;
                #{_member.id}
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;Name&lt;/f:facet&gt;
                #{_member.name}
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;Email&lt;/f:facet&gt;
                #{_member.email}
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;Phone #&lt;/f:facet&gt;
                #{_member.phoneNumber}
            &lt;/h:column&gt;
            &lt;h:column&gt;
                &lt;f:facet name="header"&gt;REST URL&lt;/f:facet&gt;
                &lt;a href="#{request.contextPath}/rest/members/#{_member.id}"&gt;
                    /rest/members/#{_member.id}
                &lt;/a&gt;
            &lt;/h:column&gt;
            &lt;f:facet name="footer"&gt;
                REST URL for all members:
                    &lt;a href="#{request.contextPath}/rest/members"&gt;
                        /rest/members
                    &lt;/a&gt;
            &lt;/f:facet&gt;
        &lt;/h:dataTable&gt;
    &lt;/ui:define&gt;
&lt;/ui:composition&gt;

------------------------------------------------------------------------
&lt;1&gt; The JSF form allows us to register new users. There should be one already created when the application started.
&lt;2&gt; The application uses Bean Validation to validate data entry. The error messages from Bean Validation are automatically attached to the relevant field by JSF, and adding a messages JSF component will display them.
&lt;3&gt; This application exposes REST endpoints for each registered member. The application helpfully displays the URL to the REST endpoint on this page.

Next, let's take a look at the Member entity, before we look at how the application is wired together:

.src/main/java/org/jboss/as/quickstarts/kitchensink/model/Member.java
[source,java]
------------------------------------------------------------------------
SuppressWarnings("serial")
@Entity                                                              <i class="conum" data-value="1"></i><b>(1)</b>
@XmlRootElement                                                      <i class="conum" data-value="2"></i><b>(2)</b>
@Table(uniqueConstraints = @UniqueConstraint(columnNames = "email"))
public class Member implements Serializable {

    @Id
    @GeneratedValue
    private Long id;

    @NotNull
    @Size(min = 1, max = 25)
    @Pattern(regexp = "[A-Za-z ]*",
             message = "must contain only letters and spaces")       <i class="conum" data-value="3"></i><b>(3)</b>
    private String name;

    @NotNull
    @NotEmpty
    @Email                                                           <i class="conum" data-value="4"></i><b>(4)</b>
    private String email;

    @NotNull
    @Size(min = 10, max = 12)
    @Digits(fraction = 0, integer = 12)                              <i class="conum" data-value="5"></i><b>(5)</b>
    @Column(name = "phone_number")
    private String phoneNumber;

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getPhoneNumber() {
        return phoneNumber;
    }

    public void setPhoneNumber(String phoneNumber) {
        this.phoneNumber = phoneNumber;
    }
}
------------------------------------------------------------------------
&lt;1&gt; As usual with JPA, we define that the class is an entity by adding @Entity
&lt;2&gt; Members are exposed as a RESTful service using JAX-RS. We can use JAXB to map the object to XML and to do this we need to add @XmlRootElement
&lt;3&gt; Bean Validation allows constraints to be defined once (on the entity) and applied everywhere. Here we constrain the person's name to a certain size and regular expression
&lt;4&gt; Hibernate Validator also offers some extra validations such as @Email
&lt;5&gt; @Digits , @NotNull and @Size are further examples of constraints

Let's take a look at `MemberRepository`, which is responsible for interactions with the persistence layer:

.src/main/java/org/jboss/as/quickstarts/kitchensink/data/MemberRepository.java
[source,java]
------------------------------------------------------------------------
@ApplicationScoped                                                   <i class="conum" data-value="1"></i><b>(1)</b>
public class MemberRepository {

    @Inject                                                          <i class="conum" data-value="2"></i><b>(2)</b>
    private EntityManager em;

    public Member findById(Long id) {
        return em.find(Member.class, id);
    }

    public Member findByEmail(String email) {
        CriteriaBuilder cb = em.getCriteriaBuilder();                <i class="conum" data-value="3"></i><b>(3)</b>
        CriteriaQuery&lt;Member&gt; c = cb.createQuery(Member.class);
        Root&lt;Member&gt; member = c.from(Member.class);
        c.select(member).where(cb.equal(member.get("email"), email));
        return em.createQuery(c).getSingleResult();
    }

    public List&lt;Member&gt; findAllOrderedByName() {
        CriteriaBuilder cb = em.getCriteriaBuilder();
        CriteriaQuery&lt;Member&gt; criteria = cb.createQuery(Member.class);
        Root&lt;Member&gt; member = criteria.from(Member.class);
        criteria.select(member).orderBy(cb.asc(member.get("name")));
        return em.createQuery(criteria).getResultList();             <i class="conum" data-value="4"></i><b>(4)</b>
    }
}
------------------------------------------------------------------------
&lt;1&gt; The bean is application scoped, as it is a singleton
&lt;2&gt; The entity manager is injected, to allow interaction with JPA
&lt;3&gt; The JPA criteria api is used to load a member by their unique identifier, their email address
&lt;4&gt; The criteria api can also be used to load lists of entities

Let's take a look at `MemberListProducer`, which is responsible for managing the list of registered members.

.src/main/java/org/jboss/as/quickstarts/kitchensink/data/MemberListProducer.java
[source,java]
------------------------------------------------------------------------
@RequestScoped                                                       <i class="conum" data-value="1"></i><b>(1)</b>
public class MemberListProducer {

    @Inject                                                          <i class="conum" data-value="2"></i><b>(2)</b>
    private MemberRepository memberRepository;

    private List&lt;Member&gt; members;

    // @Named provides access the return value via the EL variable
    // name "members" in the UI (e.g. Facelets or JSP view)
    @Produces                                                        <i class="conum" data-value="3"></i><b>(3)</b>
    @Named
    public List&lt;Member&gt; getMembers() {
        return members;
    }

    public void onMemberListChanged(                                 <i class="conum" data-value="4"></i><b>(4)</b>
        @Observes(notifyObserver = Reception.IF_EXISTS)
            final Member member) {
        retrieveAllMembersOrderedByName();
    }

    @PostConstruct
    public void retrieveAllMembersOrderedByName() {
        members = memberRepository.findAllOrderedByName();
    }
}
------------------------------------------------------------------------
&lt;1&gt; This bean is request scoped, meaning that any fields (such as members ) will be stored for the entire request
&lt;2&gt; The `MemberRepository` is responsible or interactions with the persistence layer
&lt;3&gt; The list of members is exposed as a producer method, it's also available via EL
&lt;4&gt; The observer method is notified whenever a member is created, removed, or updated. This allows us to refresh the list of members whenever they are needed. This is a good approach as it allows us to cache the list of members, but keep it up to date at the same time

Let's now look at MemberRegistration, the service that allows us to create new members:

.src/main/java/org/jboss/as/quickstarts/kitchensink/service/MemberRegistration.java
[source,java]
------------------------------------------------------------------------
@Stateless                                                           <i class="conum" data-value="1"></i><b>(1)</b>
public class MemberRegistration {

    @Inject                                                          <i class="conum" data-value="2"></i><b>(2)</b>
    private Logger log;

    @Inject
    private EntityManager em;

    @Inject
    private Event&lt;Member&gt; memberEventSrc;

    public void register(Member member) throws Exception {
        log.info("Registering " + member.getName());
        em.persist(member);
        memberEventSrc.fire(member);                                 <i class="conum" data-value="3"></i><b>(3)</b>
   }
}
------------------------------------------------------------------------
&lt;1&gt; This bean requires transactions as it needs to write to the database. Making this an EJB gives us access to declarative transactions - much simpler than manual transaction control!
&lt;2&gt; Here we inject a JDK logger, defined in the `Resources` class
&lt;3&gt; An event is sent every time a member is updated. This allows other pieces of code (in this quickstart the member list is refreshed) to react to changes in the member list without any coupling to this class.

Now, let's take a look at the `Resources` class, which provides resources such as the entity manager. CDI recommends using "resource producers", as we do in this quickstart, to alias resources to CDI beans, allowing for a  consistent style throughout our application:

.src/main/java/org/jboss/as/quickstarts/kitchensink/util/Resources.java
[source,java]
------------------------------------------------------------------------
public class Resources {
    // use @SuppressWarnings to tell IDE to ignore warnings about
    // field not being referenced directly
    @SuppressWarnings("unused")                                      <i class="conum" data-value="1"></i><b>(1)</b>
    @Produces
    @PersistenceContext
    private EntityManager em;

    @Produces                                                        <i class="conum" data-value="2"></i><b>(2)</b>
    public Logger produceLog(InjectionPoint injectionPoint) {
        return Logger.getLogger(injectionPoint.getMember()
                                              .getDeclaringClass()
                                              .getName());
    }

    @Produces                                                        <i class="conum" data-value="3"></i><b>(3)</b>
    @RequestScoped
    public FacesContext produceFacesContext() {
        return FacesContext.getCurrentInstance();
    }

}
------------------------------------------------------------------------
&lt;1&gt; We use the "resource producer" pattern, from CDI, to "alias" the old fashioned `@PersistenceContext` injection of the entity manager to a CDI style injection. This allows us to use a consistent injection style (`@Inject`) throughout the application.
&lt;2&gt; We expose a JDK logger for injection. In order to save a bit more boiler plate, we automatically set the logger category as the class name!
&lt;3&gt; We expose the `FacesContext` via a producer method, which allows it to be injected. If we were adding tests, we could also then mock it out.

If you want to define your own datasource, take a look at the link:http://docs.redhat.com/docs/en-US/JBoss_Enterprise_Application_Platform/6/html/Administration_and_Configuration_Guide/index.html[Administration and Configuration Guide for JBoss Enterprise Application Platform 6] or the link:https://docs.jboss.org/author/display/AS71/Getting+Started+Guide[Getting Started Guide].

Of course, we need to allow JSF to interact with the services. The `MemberController` class is responsible for this:

.src/main/java/org/jboss/as/quickstarts/kitchensink/controller/MemberController.java
[source,java]
------------------------------------------------------------------------
@Model                                                               <i class="conum" data-value="1"></i><b>(1)</b>
public class MemberController {

    @Inject                                                          <i class="conum" data-value="2"></i><b>(2)</b>
    private FacesContext facesContext;

    @Inject                                                          <i class="conum" data-value="3"></i><b>(3)</b>
    private MemberRegistration memberRegistration;

    @Produces                                                        <i class="conum" data-value="4"></i><b>(4)</b>
    @Named
    private Member newMember;

    @PostConstruct                                                   <i class="conum" data-value="5"></i><b>(5)</b>
    public void initNewMember() {
        newMember = new Member();
    }

    public void register() throws Exception {
        try {
            memberRegistration.register(newMember);                  <i class="conum" data-value="6"></i><b>(6)</b>
            FacesMessage m =
                new FacesMessage(FacesMessage.SEVERITY_INFO,
                                 "Registered!",
                                 "Registration successful");
            facesContext.addMessage(null, m);                        <i class="conum" data-value="7"></i><b>(7)</b>
            initNewMember();                                         <i class="conum" data-value="8"></i><b>(8)</b>
        } catch (Exception e) {
            String errorMessage = getRootErrorMessage(e);
            FacesMessage m =
                new FacesMessage(FacesMessage.SEVERITY_ERROR,
                                 errorMessage,
                                 "Registration unsuccessful");
            facesContext.addMessage(null, m);
        }
    }

    private String getRootErrorMessage(Exception e) {
        // Default to general error message that registration failed.
        String errorMessage = "Registration failed. See server log for more information";
        if (e == null) {
            // This shouldn't happen, but return the default messages
            return errorMessage;
        }

        // Start with the exception and recurse to find the root cause
        Throwable t = e;
        while (t != null) {
            // Get the message from the Throwable class instance
            errorMessage = t.getLocalizedMessage();
            t = t.getCause();
        }
        // This is the root cause message
        return errorMessage;
    }

}
------------------------------------------------------------------------
&lt;1&gt; The `MemberController` class uses the `@Model` stereotype, which adds `@Named` and `@RequestScoped` to the class
&lt;2&gt; The `FacesContext` is injected, so that messages can be sent to the user
&lt;3&gt; The `MemberRegistration` bean is injected, to allow the controller to interact with the database
&lt;4&gt; The `Member` class is exposed using a named producer field, which allows access from JSF. Note that that the named producer field has dependent scope, so every time it is injected, the field will be read
&lt;5&gt; The `@PostConstruct` annotation causes a new member object to be placed in the `newMember` field when the bean is instantiated
&lt;6&gt; When the register method is called, the `newMember` object is passed to the persistence service
&lt;7&gt; We also send a message to the user, to give them feedback on their actions
&lt;8&gt; Finally, we replace the `newMember` with a new object, thus blanking out the data the user has added so far. This works as the producer field is dependent scoped

Before we wrap up our tour of the kitchensink application, let's take a look at how the JAX-RS endpoints are created. Firstly, `JaxRSActivator`, which extends `Application` and is annotated with `@ApplicationPath`, is the Jakarta EE "no XML" approach to activating JAX-RS.

.src/main/java/org/jboss/as/quickstarts/kitchensink/rest/JaxRsActivator.java
[source,java]
------------------------------------------------------------------------
@ApplicationPath("/rest")
public class JaxRsActivator extends Application {
   /* class body intentionally left blank */
}
------------------------------------------------------------------------

The real work goes in `MemberResourceRESTService`, which produces the endpoint:

.src/main/java/org/jboss/as/quickstarts/kitchensink/rest/MemberResourceRESTService.java
[source,java]
------------------------------------------------------------------------
@Path("/members")                                                    <i class="conum" data-value="1"></i><b>(1)</b>
@RequestScoped                                                       <i class="conum" data-value="2"></i><b>(2)</b>
public class MemberResourceRESTService {

    @Inject                                                          <i class="conum" data-value="3"></i><b>(3)</b>
    private Logger log;

    @Inject                                                          <i class="conum" data-value="4"></i><b>(4)</b>
    private Validator validator;

    @Inject                                                          <i class="conum" data-value="5"></i><b>(5)</b>
    private MemberRepository repository;

    @Inject                                                          <i class="conum" data-value="6"></i><b>(6)</b>
    private MemberRegistration registration;

    @GET                                                             <i class="conum" data-value="7"></i><b>(7)</b>
    @Produces(MediaType.APPLICATION_JSON)
    public List&lt;Member&gt; listAllMembers() {
        return repository.findAllOrderedByName();
    }

    @GET                                                             <i class="conum" data-value="8"></i><b>(8)</b>
    @Path("/{id:[0-9][0-9]*}")
    @Produces(MediaType.APPLICATION_JSON)
    public Member lookupMemberById(@PathParam("id") long id) {
        Member member = repository.findById(id);
        if (member == null) {
            throw new
                WebApplicationException(Response.Status.NOT_FOUND);
        }
        return member;
    }

    /**
     * Creates a new member from the values provided.  Performs
     * validation, and will return a JAX-RS response with either
     * 200 ok, or with a map of fields, and related errors.
     */
    @POST
    @Consumes(MediaType.APPLICATION_JSON)
    @Produces(MediaType.APPLICATION_JSON)
    public Response createMember(Member member) {                    <i class="conum" data-value="9"></i><b>(9)</b>
        Response.ResponseBuilder builder = null;

        try {
            // Validates member using bean validation
            validateMember(member);                                  <i class="conum" data-value="10"></i><b>(10)</b>

            registration.register(member);                           <i class="conum" data-value="11"></i><b>(11)</b>

            //Create an "ok" response
            builder = Response.ok();
        } catch (ConstraintViolationException ce) {                  <i class="conum" data-value="12"></i><b>(12)</b>
            //Handle bean validation issues
            builder = createViolationResponse(
                          ce.getConstraintViolations());
        } catch (ValidationException e) {
            //Handle the unique constrain violation
            Map&lt;String, String&gt; responseObj =
                new HashMap&lt;String, String&gt;();
            responseObj.put("email", "Email taken");
            builder = Response.status(Response.Status.CONFLICT)
                              .entity(responseObj);
        } catch (Exception e) {
            // Handle generic exceptions
            Map&lt;String, String&gt; responseObj
                = new HashMap&lt;String, String&gt;();
            responseObj.put("error", e.getMessage());
            builder = Response.status(Response.Status.BAD_REQUEST)
                              .entity(responseObj);
        }

        return builder.build();
    }


    /**
     * &lt;p&gt;
     * Validates the given Member variable and throws validation
     * exceptions based on the type of error. If the error is
     * standard bean validation errors then it will throw a
     * ConstraintValidationException with the set of the
     * constraints violated.
     * &lt;/p&gt;
     * &lt;p&gt;
     * If the error is caused because an existing member with the
     * same email is registered it throws a regular validation
     * exception so that it can be interpreted separately.
     * &lt;/p&gt;
     *
     * @param member Member to be validated
     * @throws ConstraintViolationException
     *     If Bean Validation errors exist
     * @throws ValidationException
     *     If member with the same email already exists
     */
    private void validateMember(Member member)
            throws ConstraintViolationException,
                   ValidationException {
        //Create a bean validator and check for issues.
        Set&lt;ConstraintViolation&lt;Member&gt;&gt; violations =
            validator.validate(member);

        if (!violations.isEmpty()) {
            throw new ConstraintViolationException(
                new HashSet&lt;ConstraintViolation&lt;?&gt;&gt;(violations));
        }

        //Check the uniqueness of the email address
        if (emailAlreadyExists(member.getEmail())) {
            throw new ValidationException("Unique Email Violation");
        }
    }

    /**
     * Creates a JAX-RS "Bad Request" response including a map of
     * all violation fields, and their message. This can then be
     * used by clients to show violations.
     *
     * @param violations A set of violations that needs to be
     *                   reported
     * @return JAX-RS response containing all violations
     */
    private Response.ResponseBuilder createViolationResponse
            (Set&lt;ConstraintViolation&lt;?&gt;&gt; violations) {
        log.fine("Validation completed. violations found: "
            + violations.size());

        Map&lt;String, String&gt; responseObj =
            new HashMap&lt;String, String&gt;();

        for (ConstraintViolation&lt;?&gt; violation : violations) {
            responseObj.put(violation.getPropertyPath().toString(),
                            violation.getMessage());
        }

        return Response.status(Response.Status.BAD_REQUEST)
                       .entity(responseObj);
    }

    /**
     * Checks if a member with the same email address is already
     * registered.  This is the only way to easily capture the
     * "@UniqueConstraint(columnNames = "email")" constraint from
     * the Member class.
     *
     * @param email The email to check
     * @return True if the email already exists, and false
               otherwise
     */
    public boolean emailAlreadyExists(String email) {
        Member member = null;
        try {
            member = repository.findByEmail(email);
        } catch (NoResultException e) {
            // ignore
        }
        return member != null;
    }
}
------------------------------------------------------------------------
&lt;1&gt; The `@Path` annotation tells JAX-RS that this class provides a REST endpoint mapped to `rest/members` (concatenating the path from the activator with the path for this endpoint).
&lt;2&gt; The bean is request scoped, as JAX-RS interactions typically don't hold state between requests
&lt;3&gt; JAX-RS endpoints are CDI enabled, and can use CDI-style injection.
&lt;4&gt; CDI allows us to inject a Bean Validation `Validator` instance, which is used to validate the POSTed member before it is persisted
&lt;5&gt; `MemberRegistration` is injected to allow us to alter the member database
&lt;6&gt; `MemberRepository` is injected to allow us to query the member database
&lt;7&gt; The `listAllMembers()` method is called when the raw endpoint is accessed and offers up a list of endpoints. Notice that the object is automatically marshalled to JSON by RESTEasy (the JAX-RS implementation included in JBoss WildFly).
&lt;8&gt; The `lookupMemberById()` method is called when the endpoint is accessed with a member id parameter appended (for example `rest/members/1)`. Again, the object is automatically marshalled to JSON by RESTEasy.
&lt;9&gt; `createMember()` is called when a POST is performed on the URL. Once again, the object is automatically unmarshalled from JSON.
&lt;10&gt; In order to ensure that the member is valid, we call the `validateMember` method, which validates the object, and adds any constraint violations to the response. These can then be handled on the client side, and displayed to the user
&lt;11&gt; The object is then passed to the `MemberRegistration` service to be persisted
&lt;12&gt; We then handle any remaining issues with validating the object, which are raised when the object is persisted


Arquillian
~~~~~~~~~~

If you've been following along with the Test Driven Development craze of the past few years, you're probably getting a bit nervous by now, wondering how on earth you are going to test your application. Lucky for you, the Arquillian project is here to help!

Arquillian provides all the boiler plate for running your test inside JBoss WildFly, allowing you to concentrate on testing your application. In order to do that, it utilizes Shrinkwrap, a fluent API for defining packaging, to create an archive to deploy. We'll go through the testcase, and how you configure Arquillian in just a moment, but first let's run the test.

Before we start, we need to let Arquillian know the path to our server. Open up `src/test/resources/arquillian.xml`, uncomment the `&lt;configuration&gt;` elements, and set the `jbossHome` property to the path to the server:

image:gfx/eclipse_arquillian_0.png[]

Now, make sure the server is not running (so that the instance started for running the test does not interfere), and then run the tests from the command line by typing:

    mvn clean test -Parq-managed

You should see the server start up, a `test.war` deployed, test executed, and then the results displayed to you on the console:

------------------------------------------------------------------------
$ &gt; mvn clean test -Parq-managed


[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building WildFly Quickstarts: Kitchensink 7.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ wildfly-kitchensink ---
[INFO] Deleting /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ wildfly-kitchensink ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.3.1:compile (default-compile) @ wildfly-kitchensink ---
[INFO] Compiling 6 source files to /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target/classes
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ wildfly-kitchensink ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO]
[INFO] --- maven-compiler-plugin:2.3.1:testCompile (default-testCompile) @ wildfly-kitchensink ---
[INFO] Compiling 1 source file to /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target/test-classes
[INFO]
[INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @ wildfly-kitchensink ---
[INFO] Surefire report directory: /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest
Jun 25, 2011 7:17:49 PM org.jboss.arquillian.container.impl.client.container.ContainerRegistryCreator getActivatedConfiguration
INFO: Could not read active container configuration: null
log4j:WARN No appenders could be found for logger (org.jboss.remoting).
log4j:WARN Please initialize the log4j system properly.
Jun 25, 2011 7:17:54 PM org.jboss.as.arquillian.container.managed.ManagedDeployableContainer startInternal
INFO: Starting container with: [java, -Djboss.home.dir=/Users/pmuir/development/jboss, -Dorg.jboss.boot.log.file=/Users/pmuir/development/jboss/standalone/log/boot.log, -Dlogging.configuration=file:/Users/pmuir/development/jboss/standalone/configuration/logging.properties, -jar, /Users/pmuir/development/jboss/jboss-modules.jar, -mp, /Users/pmuir/development/jboss/modules, -logmodule, org.jboss.logmanager, -jaxpmodule, javax.xml.jaxp-provider, org.jboss.as.standalone, -server-config, standalone.xml]
19:17:55,107 INFO  [org.jboss.modules] JBoss Modules version 1.0.0.CR4
19:17:55,329 INFO  [org.jboss.msc] JBoss MSC version 1.0.0.CR2
19:17:55,386 INFO  [org.jboss.as] JBoss WildFly.0.0.Beta4-SNAPSHOT "(TBD)" starting
19:17:56,159 INFO  [org.jboss.as] creating http management service using network interface (management) port (9990) securePort (-1)
19:17:56,181 INFO  [org.jboss.as.logging] Removing bootstrap log handlers
19:17:56,189 INFO  [org.jboss.as.naming] (Controller Boot Thread) Activating Naming Subsystem
19:17:56,203 INFO  [org.jboss.as.naming] (MSC service thread 1-4) Starting Naming Service
19:17:56,269 INFO  [org.jboss.as.security] (Controller Boot Thread) Activating Security Subsystem
19:17:56,305 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 3.2.0.Beta2
19:17:56,317 INFO  [org.xnio] (MSC service thread 1-1) XNIO Version 3.0.0.Beta3
19:17:56,331 INFO  [org.xnio.nio] (MSC service thread 1-1) XNIO NIO Implementation Version 3.0.0.Beta3
19:17:56,522 INFO  [org.jboss.as.connector.subsystems.datasources] (Controller Boot Thread) Deploying JDBC-compliant driver class org.h2.Driver (version 1.2)
19:17:56,572 INFO  [org.apache.catalina.core.AprLifecycleListener] (MSC service thread 1-7) The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: .:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java
19:17:56,627 INFO  [org.jboss.as.remoting] (MSC service thread 1-3) Listening on /127.0.0.1:9999
19:17:56,641 INFO  [org.jboss.as.jmx.JMXConnectorService] (MSC service thread 1-2) Starting remote JMX connector
19:17:56,705 INFO  [org.jboss.as.ee] (Controller Boot Thread) Activating EE subsystem
19:17:56,761 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-7) Starting Coyote HTTP/1.1 on http--127.0.0.1-8080
19:17:56,793 INFO  [org.jboss.as.connector] (MSC service thread 1-3) Starting JCA Subsystem (JBoss IronJacamar 1.0.0.CR2)
19:17:56,837 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) Bound data source [java:jboss/datasources/ExampleDS]
19:17:57,335 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) Starting deployment of "arquillian-service"
19:17:57,348 INFO  [org.jboss.as.deployment] (MSC service thread 1-7) Started FileSystemDeploymentService for directory /Users/pmuir/development/jboss/standalone/deployments
19:17:57,693 INFO  [org.jboss.as] (Controller Boot Thread) JBoss WildFly.0.0.Beta4-SNAPSHOT "(TBD)" started in 2806ms - Started 111 of 138 services (27 services are passive or on-demand)
19:18:00,596 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) Stopped deployment arquillian-service in 8ms
19:18:01,394 INFO  [org.jboss.as.server.deployment] (pool-2-thread-7) Content added at location /Users/pmuir/development/jboss/standalone/data/content/0a/9e20b7bc978fd2778b89c7c06e4d3e1f308dfe/content
19:18:01,403 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) Starting deployment of "arquillian-service"
19:18:01,650 INFO  [org.jboss.as.server.deployment] (pool-2-thread-6) Content added at location /Users/pmuir/development/jboss/standalone/data/content/94/8324ab8f5a693c67fa57b59323304d3947bbf6/content
19:18:01,659 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) Starting deployment of "test.war"
19:18:01,741 INFO  [org.jboss.jpa] (MSC service thread 1-7) read persistence.xml for primary
19:18:01,764 INFO  [org.jboss.weld] (MSC service thread 1-3) Processing CDI deployment: test.war
19:18:01,774 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-3) JNDI bindings for session bean named MemberRegistration in deployment unit deployment "test.war" are as follows:

        java:global/test/MemberRegistration!org.jboss.as.quickstarts.kitchensink.controller.MemberRegistration
        java:app/test/MemberRegistration!org.jboss.as.quickstarts.kitchensink.controller.MemberRegistration
        java:module/MemberRegistration!org.jboss.as.quickstarts.kitchensink.controller.MemberRegistration
        java:global/test/MemberRegistration
        java:app/test/MemberRegistration
        java:module/MemberRegistration

19:18:01,908 INFO  [org.jboss.weld] (MSC service thread 1-5) Starting Services for CDI deployment: test.war
19:18:02,131 INFO  [org.jboss.weld.Version] (MSC service thread 1-5) WELD-000900 1.1.1 (Final)
19:18:02,169 INFO  [org.jboss.weld] (MSC service thread 1-2) Starting weld service
19:18:02,174 INFO  [org.jboss.as.arquillian] (MSC service thread 1-3) Arquillian deployment detected: ArquillianConfig[service=jboss.arquillian.config."test.war",unit=test.war,tests=[org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest]]
19:18:02,179 INFO  [org.jboss.jpa] (MSC service thread 1-6) starting Persistence Unit Service 'test.war#primary'
19:18:02,322 INFO  [org.hibernate.annotations.common.Version] (MSC service thread 1-6) Hibernate Commons Annotations 3.2.0.Final
19:18:02,328 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-6) HHH00412:Hibernate [WORKING]
19:18:02,330 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-6) HHH00206:hibernate.properties not found
19:18:02,332 INFO  [org.hibernate.cfg.Environment] (MSC service thread 1-6) HHH00021:Bytecode provider name : javassist
19:18:02,354 INFO  [org.hibernate.ejb.Ejb3Configuration] (MSC service thread 1-6) HHH00204:Processing PersistenceUnitInfo [
	name: primary
	...]
19:18:02,400 WARN  [org.hibernate.cfg.AnnotationBinder] (MSC service thread 1-6) HHH00194:Package not found or wo package-info.java: org.jboss.as.quickstarts.kitchensink.test
19:18:02,400 WARN  [org.hibernate.cfg.AnnotationBinder] (MSC service thread 1-6) HHH00194:Package not found or wo package-info.java: org.jboss.as.quickstarts.kitchensink.controller
19:18:02,401 WARN  [org.hibernate.cfg.AnnotationBinder] (MSC service thread 1-6) HHH00194:Package not found or wo package-info.java: org.jboss.as.quickstarts.kitchensink.util
19:18:02,401 WARN  [org.hibernate.cfg.AnnotationBinder] (MSC service thread 1-6) HHH00194:Package not found or wo package-info.java: org.jboss.as.quickstarts.kitchensink.model
19:18:02,592 INFO  [org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator] (MSC service thread 1-6) HHH00130:Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
19:18:02,852 INFO  [org.hibernate.dialect.Dialect] (MSC service thread 1-6) HHH00400:Using dialect: org.hibernate.dialect.H2Dialect
19:18:02,858 WARN  [org.hibernate.dialect.H2Dialect] (MSC service thread 1-6) HHH00431:Unable to determine H2 database version, certain features may not work
19:18:02,862 INFO  [org.hibernate.engine.jdbc.internal.LobCreatorBuilder] (MSC service thread 1-6) HHH00423:Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
19:18:02,870 INFO  [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (MSC service thread 1-6) HHH00268:Transaction strategy: org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory
19:18:02,874 INFO  [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (MSC service thread 1-6) HHH00397:Using ASTQueryTranslatorFactory
19:18:02,911 INFO  [org.hibernate.validator.util.Version] (MSC service thread 1-6) Hibernate Validator 4.1.0.Final
19:18:02,917 INFO  [org.hibernate.validator.engine.resolver.DefaultTraversableResolver] (MSC service thread 1-6) Instantiated an instance of org.hibernate.validator.engine.resolver.JPATraversableResolver.
19:18:03,079 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (MSC service thread 1-6) HHH00227:Running hbm2ddl schema export
19:18:03,093 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (MSC service thread 1-6) HHH00230:Schema export complete
19:18:03,217 INFO  [org.jboss.web] (MSC service thread 1-5) registering web context: /test
19:18:03,407 WARN  [org.jboss.weld.Bean] (RMI TCP Connection(3)-127.0.0.1) WELD-000018 Executing producer field or method [method] @Produces public org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest.produceLog(InjectionPoint) on incomplete declaring bean Managed Bean [class org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest] with qualifiers [@Any @Default] due to circular injection
19:18:03,427 WARN  [org.jboss.weld.Bean] (RMI TCP Connection(3)-127.0.0.1) WELD-000018 Executing producer field or method [method] @Produces public org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest.produceLog(InjectionPoint) on incomplete declaring bean Managed Bean [class org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest] with qualifiers [@Any @Default] due to circular injection
19:18:03,450 WARN  [org.jboss.as.ejb3.component.EJBComponent] (RMI TCP Connection(3)-127.0.0.1) EJBTHREE-2120: deprecated getTransactionAttributeType method called (dev problem)
19:18:03,459 INFO  [org.jboss.as.quickstarts.kitchensink.controller.MemberRegistration] (RMI TCP Connection(3)-127.0.0.1) Registering Jane Doe
19:18:03,616 INFO  [org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest] (RMI TCP Connection(3)-127.0.0.1) Jane Doe was persisted with id 1
19:18:03,686 INFO  [org.jboss.jpa] (MSC service thread 1-1) stopping Persistence Unit Service 'test.war#primary'
19:18:03,687 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (MSC service thread 1-1) HHH00227:Running hbm2ddl schema export
19:18:03,690 INFO  [org.jboss.weld] (MSC service thread 1-3) Stopping weld service
19:18:03,692 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (MSC service thread 1-1) HHH00230:Schema export complete
19:18:03,704 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) Stopped deployment test.war in 52ms
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 14.859 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 22.305s
[INFO] Finished at: Sat Jun 25 19:18:04 BST 2011
[INFO] Final Memory: 17M/125M
[INFO] ------------------------------------------------------------------------

------------------------------------------------------------------------

As you can see, that didn't take too long (approximately 15s), and is great for running in your QA environment, but if you running locally, you might prefer to connect to a running server. To do that, start up JBoss WildFly (as described in &lt;&lt;GettingStarted-, Getting Started with JBoss Enterprise Application Platform of WildFly&gt;&gt;. Now, run your test, but use the `arq-wildfly-remote` profile:

    mvn clean test -Parq-remote

------------------------------------------------------------------------
$ &gt; mvn clean test -Parq-remote


[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building WildFly Quickstarts: Kitchensink 7.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ wildfly-kitchensink ---
[INFO] Deleting /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ wildfly-kitchensink ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.3.1:compile (default-compile) @ wildfly-kitchensink ---
[INFO] Compiling 6 source files to /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target/classes
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ wildfly-kitchensink ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO]
[INFO] --- maven-compiler-plugin:2.3.1:testCompile (default-testCompile) @ wildfly-kitchensink ---
[INFO] Compiling 1 source file to /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target/test-classes
[INFO]
[INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @ wildfly-kitchensink ---
[INFO] Surefire report directory: /Users/pmuir/workspace/wildfly-docs/quickstarts/kitchensink/target/surefire-reports

------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.jboss.as.quickstarts.kitchensink.test.MemberRegistrationTest
Jun 25, 2011 7:22:28 PM org.jboss.arquillian.container.impl.client.container.ContainerRegistryCreator getActivatedConfiguration
INFO: Could not read active container configuration: null
log4j:WARN No appenders could be found for logger (org.jboss.as.arquillian.container.MBeanServerConnectionProvider).
log4j:WARN Please initialize the log4j system properly.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.13 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 10.474s
[INFO] Finished at: Sat Jun 25 19:22:33 BST 2011
[INFO] Final Memory: 17M/125M
[INFO] ------------------------------------------------------------------------
$ &gt;
------------------------------------------------------------------------


[IMPORTANT]
========================================================================
Arquillian defines two modes, _managed_ and _remote_ . The _managed_
mode will take care of starting and stopping the server for you, whilst
the _remote_ mode connects to an already running server.
========================================================================

This time you can see the test didn't start the server (if you check the instance you started, you will see the application was deployed there), and the test ran a lot faster (approximately 4s).

We can also run the test from Eclipse, in both managed and remote modes. First, we'll run in in managed mode. In order to set up the correct dependencies on your classpath, right click on the project, and select Properties :

image:gfx/eclipse_arquillian_1.png[]

Now, locate the Maven panel:

image:gfx/eclipse_arquillian_2.png[]

And activate the `arq-managed` profile:

image:gfx/eclipse_arquillian_3.png[]

Finally, hit _Ok_, and then confirm you want to update the project configuration:

image:gfx/eclipse_arquillian_4.png[]

Once the project has built, locate the `MemberRegistrationTest` in `src/test/java`, right click on the test, and choose _Run As -&gt; JUnit Test...`_:

image:gfx/eclipse_arquillian_12.png[]

You should see the server start in the Eclipse Console, the test be deployed, and finally the JUnit View pop up with the result (a pass of course!).

We can also run the test in an already running instance of Eclipse. Simply change the active profile to `arq-remote`:

image:gfx/eclipse_arquillian_11.png[]

Now, make sure the server is running, right click on the test case and choose _Run As -&gt; JUnit Test..._:

image:gfx/eclipse_arquillian_12.png[]

Again, you'll see the test run in the server, and the JUnit View pop up, with the test passing.

So far so good, the test is running in both Eclipse and from the command line. But what does the test look like?

.src/test/java/org/jboss/as/quickstarts/kitchensink/test/MemberRegistrationTest.java
[source,java]
------------------------------------------------------------------------
@RunWith(Arquillian.class)                                           <i class="conum" data-value="1"></i><b>(1)</b>
public class MemberRegistrationTest {
    @Deployment                                                      <i class="conum" data-value="2"></i><b>(2)</b>
    public static Archive&lt;?&gt; createTestArchive() {
        return ShrinkWrap.create(WebArchive.class, "test.war")
                .addClasses(Member.class,
                            MemberRegistration.class,
                            Resources.class)                         <i class="conum" data-value="3"></i><b>(3)</b>
                .addAsResource("META-INF/test-persistence.xml",
                               "META-INF/persistence.xml")           <i class="conum" data-value="4"></i><b>(4)</b>
                .addAsWebInfResource(EmptyAsset.INSTANCE,
                                     "beans.xml")                    <i class="conum" data-value="5"></i><b>(5)</b>
                // Deploy our test datasource
                .addAsWebInfResource("test-ds.xml");                 <i class="conum" data-value="6"></i><b>(6)</b>
    }

    @Inject                                                          <i class="conum" data-value="7"></i><b>(7)</b>
    MemberRegistration memberRegistration;

    @Inject
    Logger log;

    @Test
    public void testRegister() throws Exception {                    <i class="conum" data-value="8"></i><b>(8)</b>
        Member newMember = new Member();
        newMember.setName("Jane Doe");
        newMember.setEmail("jane@mailinator.com");
        newMember.setPhoneNumber("2125551234");
        memberRegistration.register(newMember);
        assertNotNull(newMember.getId());
        log.info(newMember.getName() +
                 " was persisted with id " +
                 newMember.getId());
    }

}
------------------------------------------------------------------------
&lt;1&gt; `@RunWith(Arquillian.class)` tells JUnit to hand control over to Arquillian when executing tests
&lt;2&gt; The `@Deployment` annotation identifies the `createTestArchive()` static method to Arquillian as the one to use to determine which resources and classes to deploy
&lt;3&gt; We add just the classes needed for the test, no more
&lt;4&gt; We also add persistence.xml as our test is going to use the database
&lt;5&gt; Of course, we must add beans.xml to enable CDI
&lt;6&gt; Finally, we add a test datasource, so that test data doesn't overwrite production data
&lt;7&gt; Arquillian allows us to inject beans into the test case
&lt;8&gt; The test method works as you would expect - creates a new member, registers them, and then verifies that the member was created

As you can see, Arquillian has lived up to the promise - the test case is focused on _what_ to test (the `@Deployment` method) and _how_ to test (the `@Test` method). It's also worth noting that this isn't a simplistic unit test - this is a fully fledged integration test that uses the database.

Now, let's look at how we configure Arquillian. First of all, let's take a look at `arquillian.xml` in `src/test/resources`.


.src/test/resources/META-INF/arquillian.xml
[source,xml]
------------------------------------------------------------------------
&lt;arquillian xmlns="http://jboss.org/schema/arquillian"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://jboss.org/schema/arquillian
        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;

   &lt;!-- Uncomment to have test archives exported to the
        file system for inspection --&gt;
&lt;!--    &lt;engine&gt;  --&gt;                                                <i class="conum" data-value="1"></i><b>(1)</b>
&lt;!--       &lt;property name="deploymentExportPath"&gt;
               target/
           &lt;/property&gt;  --&gt;
&lt;!--    &lt;/engine&gt; --&gt;

   &lt;!-- Force the use of the Servlet 3.0 protocol with all
        containers, as it is the most mature --&gt;
   &lt;defaultProtocol type="Servlet 3.0" /&gt;                            <i class="conum" data-value="2"></i><b>(2)</b>

   &lt;!-- Example configuration for a remote JBoss WildFly instance --&gt;
   &lt;container qualifier="jboss" default="true"&gt;
      &lt;!-- If you want to use the JBOSS_HOME environment variable,
           just delete the jbossHome property --&gt;
      &lt;configuration&gt;
         &lt;property name="jbossHome"&gt;/path/to/wildfly&lt;/property&gt;
      &lt;/configuration&gt;
   &lt;/container&gt;

&lt;/arquillian&gt;
------------------------------------------------------------------------
&lt;1&gt; Arquillian deploys the test war, and doesn't write it to disk. For debugging, it can be very useful to see exactly what is in your war, so Arquillian allows you to export the war when the tests runs
&lt;2&gt; Arquillian currently needs configuring to use the Servlet protocol to connect to the server

Now, we need to look at how we select between containers in the `pom.xml`:

.pom.xml
[source,xml]
------------------------------------------------------------------------
&lt;profile&gt;
    &lt;!-- An optional Arquillian testing profile that executes tests
        in your WildFly instance --&gt;
    &lt;!-- This profile will start a new WildFly instance, and
        execute the test, shutting it down when done --&gt;
    &lt;!-- Run with: mvn clean test -Parq-managed --&gt;
    &lt;id&gt;arq-wildfly-managed&lt;/id&gt;                                     <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;
            &lt;artifactId&gt;                                             <i class="conum" data-value="2"></i><b>(2)</b>
                wildfly-arquillian-container-managed
            &lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/profile&gt;

&lt;profile&gt;
    &lt;!-- An optional Arquillian testing profile that executes
        tests in a remote WildFly instance --&gt;
    &lt;!-- Run with: mvn clean test -Parq-remote --&gt;
    &lt;id&gt;arq-wildfly-remote&lt;/id&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;
            &lt;artifactId&gt;                                             <i class="conum" data-value="3"></i><b>(3)</b>
                wildfly-arquillian-container-remote
            &lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/profile&gt;
------------------------------------------------------------------------
&lt;1&gt; The profile needs an id so we can activate from Eclipse or the command line
&lt;2&gt; Arquillian decides which container to use depending on your classpath. Here we define the managed container
&lt;3&gt; Arquillian decides which container to use depending on your classpath. Here we define the remote container

And that's it! As you can see Arquillian delivers simple and true testing. You can concentrate on writing your test functionality, and run your tests in the same environment in which you will run your application.


[TIP]
========================================================================
Arquillian also offers other containers, allowing you to run your tests
against Weld Embedded (super fast, but your enterprise services are
mocked), GlassFish, and more
========================================================================

That concludes our tour of the kitchensink quickstart. If you would like to use this project as a basis for your own application, you can of course copy this application sources and modify it.


= Creating your own application
:Author: Pete Muir

[[Archetype-]]

What we didn't tell you about the kitchensink quickstart is that it is generated from a Maven archetype. Using this archetype offers you the perfect opportunity to generate your own project.

You can create a project from the archetype using Red Hat CodeReady Studio, or Eclipse with JBoss Tools. First, open up _JBoss Central_, if it isn't already open. Hit _Cmd-3_ (Mac) or _Ctrl-3_ (Windows, Linux) and type _JBoss Central_:

image:gfx/Eclipse_JBoss_Central_1.png[]

You will now be shown _JBoss Central_, an excellent place to find about all things JBoss!

image:gfx/Eclipse_JBoss_Central_2.png[]

To create a new project, based on the kitchensink quickstart, click on _Create Projects | Jakarta EE Web Project_:

image:gfx/Eclipse_JavaEEWebProject_1.png[]

Red Hat CodeReady Studio will then check that you have the necessary pre-requisites to create the project. If you are using CodeReady, then you should, otherwise, JBoss Tools will help you install the necessary pre-requisites. See link:http://jboss.org/tools[JBoss Tools] for more information.

Hit _Next &gt;_. On the next screen you can enter a project name, package for sample code, and finally select a target runtime:

image:gfx/Eclipse_JavaEEWebProject_2.png[]

Finally, hit _Finish_. You'll be presented with the _New Project Example_ dialog, in which you can simply hit _Finish_:

image:gfx/Eclipse_JavaEEWebProject_3.png[]

You should now have a brand new project:

image:gfx/Eclipse_JavaEEWebProject_4.png[]

Enjoy!


To use the archetype to generate a new project, you should run:

    mvn archetype:generate \
        -DarchetypeArtifactId=jboss-javaee7-webapp-archetype \
        -DarchetypeGroupId=org.jboss.spec.archetypes \
        -DarchetypeVersion=7.1.1.CR2 \

Maven will download the archetype and it's dependencies, and ask you some questions:

------------------------------------------------------------------------
$ &gt; mvn archetype:generate \
        -DarchetypeArtifactId=jboss-javaee7-webapp-archetype \
        -DarchetypeGroupId=org.jboss.spec.archetypes \
        -DarchetypeVersion=7.1.1.CR2
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO]

.........

Define value for property 'groupId': : com.acme.corp                 <i class="conum" data-value="1"></i><b>(1)</b>
Define value for property 'artifactId': : acme-sales                 <i class="conum" data-value="2"></i><b>(2)</b>
Define value for property 'version':  1.0-SNAPSHOT: :                <i class="conum" data-value="3"></i><b>(3)</b>
Define value for property 'package':  com.acme.corp: :               <i class="conum" data-value="4"></i><b>(4)</b>
[INFO] Using property: name = Jakarta EE webapp project               <i class="conum" data-value="5"></i><b>(5)</b>
Confirm properties configuration:
groupId: com.acme.corp
artifactId: acme-sales
version: 1.0-SNAPSHOT
package: com.acme.corp
name: Jakarta EE webapp project
 Y: :
[WARNING] CP Don't override file /Users/pmuir/tmp/acme-sales/.settings/org.eclipse.jdt.apt.core.prefs
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 14.774s
[INFO] Finished at: Mon Jun 06 18:53:38 BST 2011
[INFO] Final Memory: 7M/125M
[INFO] ------------------------------------------------------------------------
$ &gt;
------------------------------------------------------------------------
&lt;1&gt; Enter the groupId you wish to use
&lt;2&gt; Enter the artifactId you wish to use
&lt;3&gt; Enter the version you wish to use, or just hit Enter if you wish to accept the default 1.0-SNAPSHOT
&lt;4&gt; Enter the java package you wish to use, or just hit Enter if you wish to accept the default (which is copied from groupId ).
&lt;5&gt; Finally, if you are happy with your choices, hit Enter and Maven will generate the project for you.

And that's it, you now have a brand new project with the same functionality as `kitchensink`, but customized with your details.

[IMPORTANT]
========================================================================
The archetype contains some sample code to get you started. If you
would prefer a blank canvas, with only a project skeleton, then use
`jboss-javaee7-webapp-blank-archetype` as your archetype id.
========================================================================

[IMPORTANT]
.Prefer Enterprise Applications (EARs)?
========================================================================
The archetype generates a WAR project. With Jakarta EE, you can include
EJBs in your WAR, meaning you won't need an EAR until you need to divide
your code into modules. If you would like to create an EAR based project
then use `jboss-javaee7-webapp-ear-archetype`
as your archetype id (or if you want a blank EAR, then
`jboss-javaee7-webapp-ear-blank-archetype`).
========================================================================




= More Resources

[cols=","]
|=======================================================================
| link:Getting_Started_Guide{outfilesuffix}[Getting Started Guide] |The Getting Started Guide covers topics such as
server layout (what you can configure where), data source definition,
and using the web management interface.

|=======================================================================

:leveloffset: +1

[[Developing_Jakarta_Faces_Project_Using,_Maven_and_IntelliJ]]
= Developing Jakarta Faces Project Using JBoss AS7, Maven and IntelliJ


JBoss AS7 is a very 'modern' application server that has very fast
startup speed. So it's an excellent container to test your Jakarta Faces project.
In this article, I'd like to show you how to use AS7, maven and IntelliJ
together to develop your Jakarta Faces project.

In this article I'd like to introduce the following things:

* Create a project using Maven
* Add Jakarta Faces into project
* Writing Code
* Add JBoss AS 7 deploy plugin into project
* Deploy project to JBoss AS 7
* Import project into IntelliJ
* Add IntelliJ Jakarta Faces support to project
* Add JBoss AS7 to IntelliJ
* Debugging project with IntelliJ and AS7

I won't explain many basic concepts about AS7, maven and IntelliJ in
this article because there are already many good introductions on these
topics. So before doing the real work, there some preparations should be
done firstly:

*Download JBoss AS7*

It could be downloaded from here:
https://www.jboss.org/jbossas/downloads/

Using the latest release would be fine. When I'm writing this article
the latest version is 7.1.1.Final.

*Install Maven*

Please make sure you have maven installed on your machine. Here is my
environment:

[source,options="nowrap"]
----
weli@power:~$ mvn -version
Apache Maven 3.0.3 (r1075438; 2011-03-01 01:31:09+0800)
Maven home: /usr/share/maven
Java version: 1.6.0_33, vendor: Apple Inc.
Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
Default locale: en_US, platform encoding: MacRoman
OS name: "mac os x", version: "10.8", arch: "x86_64", family: "mac"
----

*Get IntelliJ*

In this article I'd like to use IntelliJ Ultimate Edition as the IDE for
development, it's a commercial software and can be downloaded from:
https://www.jetbrains.com/idea/

The version I'm using is IntelliJ IDEA Ultimate 11.1

After all of these prepared, we can dive into the real work:

[[create-a-project-using-maven]]
== Create a project using Maven

Use the following maven command to create a web project:

[source,options="nowrap"]
----
mvn archetype:create -DarchetypeGroupId=org.apache.maven.archetypes \
-DarchetypeArtifactId=maven-archetype-webapp \
-DarchetypeVersion=1.0 \
-DgroupId=net.bluedash \
-DartifactId=jsfdemo \
-Dversion=1.0-SNAPSHOT
----

If everything goes fine maven will generate the project for us:

image:images/jsf/8108c4f111aab2c3465472eb84cf1d9b7cf912d0.jpg[alt=jsf/8108c4f111aab2c3465472eb84cf1d9b7cf912d0.jpg]

The contents of the project is shown as above.

[[add-Jakarta-Faces-into-project]]
== Add Jakarta Faces into project

The Jakarta Faces library is now included in maven repo, so we can let maven to
manage the download for us. First is to add repository into our pom.xml:

[source,java,options="nowrap"]
----
&lt;repository&gt;
  &lt;id&gt;jvnet-nexus-releases&lt;/id&gt;
  &lt;name&gt;jvnet-nexus-releases&lt;/name&gt;
  &lt;url&gt;https://maven.java.net/content/repositories/releases/&lt;/url&gt;
&lt;/repository&gt;
----

Then we add Jakarta Faces dependency into pom.xml:

[source,xml,options="nowrap"]
----
&lt;dependency&gt;
    &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;
    &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;
    &lt;version&gt;4.0.1&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
----

Please note the 'scope' is 'provided', because we don't want to bundle
the jsf.jar into the war produced by our project later, as JBoss AS7
already have Jakarta Faces bundled in.

Then we run 'mvn install' to update the project, and maven will download
jsf-api for us automatically.

[[writing-code]]
== Writing Code

Writing Jakarta Faces code in this article is trivial, so I've put written a
project called 'jsfdemo' onto github:

https://github.com/liweinan/jsfdemo

Please clone this project into your local machine, and import it into
IntelliJ following the steps described as above.

[[add-jboss-as-7-deploy-plugin-into-project]]
== Add JBoss AS 7 deploy plugin into project

JBoss AS7 has provide a set of convenient maven plugins to perform daily
tasks such as deploying project into AS7. In this step let's see how to
use it in our project.

We should put AS7's repository into pom.xml:

[source,xml,options="nowrap"]
----
&lt;repository&gt;
    &lt;id&gt;jboss-public-repository-group&lt;/id&gt;
    &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;
    &lt;url&gt;https://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;
    &lt;layout&gt;default&lt;/layout&gt;
    &lt;releases&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
    &lt;/releases&gt;
    &lt;snapshots&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
    &lt;/snapshots&gt;
&lt;/repository&gt;
----

And also the plugin repository:

[source,java,options="nowrap"]
----
&lt;pluginRepository&gt;
    &lt;id&gt;jboss-public-repository-group&lt;/id&gt;
    &lt;name&gt;JBoss Public Repository Group&lt;/name&gt;
    &lt;url&gt;https://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;
    &lt;releases&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;/releases&gt;
    &lt;snapshots&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;/snapshots&gt;
&lt;/pluginRepository&gt;
----

And put jboss deploy plugin into 'build' section:

[source,java,options="nowrap"]
----
&lt;plugin&gt;
    &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;deploy&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
----

I've put the final version pom.xml here to check whether your
modification is correct:

https://github.com/liweinan/jsfdemo/blob/master/pom.xml

Now we have finished the setup work for maven.

[[deploy-project-to-jboss-as-7]]
== Deploy project to JBoss AS 7

To deploy the project to JBoss AS7, we should start AS7 firstly. In
JBoss AS7 directory, run following command:

[source,java,options="nowrap"]
----
bin/standalone.sh
----

AS7 should start in a short time. Then let's go back to our project
directory and run maven command:

[source,java,options="nowrap"]
----
mvn -q jboss-as:deploy
----

Maven will use some time to download necessary components for a while,
so please wait patiently. After a while, we can see the result:

image:images/jsf/97d781c6be9db755aef80a110f1d9b29590610d6.jpg[alt=jsf/97d781c6be9db755aef80a110f1d9b29590610d6.jpg]

And if you check the console output of AS7, you can see the project is
deployed:

image:images/jsf/2._java.jpg[alt=jsf/2._java.jpg]

Now we have learnt how to create a Jakarta Faces project and deploy it to AS7
without any help from graphical tools. Next let's see how to use
IntelliJ IDEA to go on developing/debugging our project.

[[import-project-into-intellij]]
== Import project into IntelliJ

Now it's time to import the project into IntelliJ. Now let's open
IntelliJ, and choose 'New Project...':

image:images/jsf/05222f3059e387df96ce04d2aea156c82af15096.jpg[alt=jsf/05222f3059e387df96ce04d2aea156c82af15096.jpg]

The we choose 'Import project from external model':

image:images/jsf/d68a0cdbc8c90db3db8af998f34616f73c7fe809.jpg[alt=jsf/d68a0cdbc8c90db3db8af998f34616f73c7fe809.jpg]

Next step is choosing 'Maven':

image:images/jsf/0b3d1cb5794fb54a2465da93648b5a0d1a6643f3.jpg[alt=jsf/0b3d1cb5794fb54a2465da93648b5a0d1a6643f3.jpg]

Then IntelliJ will ask you the position of the project you want to
import. In 'Root directory' input your project's directory and leave
other options as default:

image:images/jsf/2f192d02993248c97e2ac42ea8f3105d855e5cdf.jpg[alt=jsf/2f192d02993248c97e2ac42ea8f3105d855e5cdf.jpg]

For next step, just click 'Next':

image:images/jsf/3a3ee36eb581930822c4a66362795345f5d2f9a7.jpg[alt=jsf/3a3ee36eb581930822c4a66362795345f5d2f9a7.jpg]

Finally click 'Finish':

image:images/jsf/91e40cd0b1545cff4622857d6dc9959f96faf056.jpg[alt=jsf/91e40cd0b1545cff4622857d6dc9959f96faf056.jpg]

Hooray! We've imported the project into IntelliJ now icon:smile-o[role="yellow"]

[[adding-intellij-Jakarta-Faces-support-to-project]]
== Adding IntelliJ Jakarta Faces support to project

Let's see how to use IntelliJ and AS7 to debug the project. First we
need to add 'Jakarta Faces' facet into project. Open project setting:

image:images/jsf/8b8d0051f4f15033f17cb859c65f2d8481914678.jpg[alt=jsf/8b8d0051f4f15033f17cb859c65f2d8481914678.jpg]

Click on 'Facets' section on left; Select 'Web' facet that we already
have, and click the '+' on top, choose 'Jakarta Faces':

image:images/jsf/e6947b84a56a698ca1392a440081bddfb5cae284.jpg[alt=jsf/e6947b84a56a698ca1392a440081bddfb5cae284.jpg]

Select 'Web' as parent facet:

image:images/jsf/6b2296be1bb2d8a81952caef0f025a139a39b381.jpg[alt=jsf/6b2296be1bb2d8a81952caef0f025a139a39b381.jpg]

Click 'Ok':

image:images/jsf/9988c572bad281146f405e9287f645a3da201885.jpg[alt=jsf/9988c572bad281146f405e9287f645a3da201885.jpg]

Now we have enabled IntelliJ's Jakarta Faces support for project.

[[add-jboss-as7-to-intellij]]
== Add JBoss AS7 to IntelliJ

Let's add JBoss AS7 into IntelliJ and use it to debug our project. First
please choose 'Edit Configuration' in menu tab:

image:images/jsf/dc0550785aae11f9d3eb439fdc0c51069affd25d.jpg[alt=jsf/dc0550785aae11f9d3eb439fdc0c51069affd25d.jpg]

Click '+' and choose 'JBoss Server' -&gt; 'Local':

image:images/jsf/1231420c938f087030cb3dcd37237b5585beb154.jpg[alt=jsf/1231420c938f087030cb3dcd37237b5585beb154.jpg]

Click 'configure':

image:images/jsf/d7e6ab58230b2d31fdcd8fd5f14cd4eb47b05f64.jpg[alt=jsf/d7e6ab58230b2d31fdcd8fd5f14cd4eb47b05f64.jpg]

and choose your JBoss AS7:

image:images/jsf/f7b29ac8009f04fc7f209222ced0bcf54f4b8d9a.jpg[alt=jsf/f7b29ac8009f04fc7f209222ced0bcf54f4b8d9a.jpg]

Now we need to add our project into deployment. Click the 'Deployment'
tab:

image:images/jsf/6802fb7e29283d0e064a7cc4466b918995ba5645.jpg[alt=jsf/6802fb7e29283d0e064a7cc4466b918995ba5645.jpg]

Choose 'Artifact', and add our project:

image:images/jsf/359484b8f6f2c655d94132e9cb6f9dbe5a058656.jpg[alt=jsf/359484b8f6f2c655d94132e9cb6f9dbe5a058656.jpg]

Leave everything as default and click 'Ok', now we've added JBoss AS7
into IntelliJ

[[debugging-project-with-intellij-and-as7]]
== Debugging project with IntelliJ and AS7

Now comes the fun part. To debug our project, we cannot directly use the
'debug' feature provided by IntelliJ right now(maybe in the future
version this problem could be fixed). So now we should use the debugging
config provided by AS7 itself to enable JPDA feature, and then use the
remote debug function provided by IntelliJ to get things done. Let's
dive into the details now:

First we need to enable JPDA config inside AS7, open
'bin/standalone.conf' and find following lines:

[source,java,options="nowrap"]
----
# Sample JPDA settings for remote socket debugging
#JAVA_OPTS="$JAVA_OPTS -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n"
----

Enable the above config by removing the leading hash sign:

[source,java,options="nowrap"]
----
# Sample JPDA settings for remote socket debugging
JAVA_OPTS="$JAVA_OPTS -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n"
----

[IMPORTANT]

With WildFly you can directly start the server in debug mode:

[source,java,options="nowrap"]
----
bin/standalone.sh --debug --server-config=standalone.xml
----

Now we start AS7 in IntelliJ:

image:images/jsf/52369d67f9117c924213de24dd6642b48e47a436.png[alt=jsf/52369d67f9117c924213de24dd6642b48e47a436.png]

Please note we should undeploy the existing 'jsfdemo' project in AS7 as
we've added by maven jboss deploy plugin before. Or AS7 will tell us
there is already existing project with same name so IntelliJ could not
deploy the project anymore.

If the project start correctly we can see from the IntelliJ console
window, and please check the debug option is enabled:

image:images/jsf/eaac5cb1a836809ab29513346b527fe051b7c7ac.png[alt=jsf/eaac5cb1a836809ab29513346b527fe051b7c7ac.png]

Now we will setup the debug configuration, click 'debug' option on menu:

image:images/jsf/b8323caf6980c40c3d635db5e308b03847618d06.jpg[alt=jsf/b8323caf6980c40c3d635db5e308b03847618d06.jpg]

Choose 'Edit Configurations':

image:images/jsf/8327bbe0e83cb7170dd84767631c98956e91c42c.jpg[alt=jsf/8327bbe0e83cb7170dd84767631c98956e91c42c.jpg]

Then we click 'Add' and choose Remote:

image:images/jsf/7103da6b6323e515a03a04cafe111aa7c6b3169d.jpg[alt=jsf/7103da6b6323e515a03a04cafe111aa7c6b3169d.jpg]

Set the 'port' to the one you used in AS7 config file 'standalone.conf':

image:images/jsf/30bbef45137c7d45ae300ba8d551423d1feefc96.png[alt=jsf/30bbef45137c7d45ae300ba8d551423d1feefc96.png]

Leave other configurations as default and click 'Ok'. Now we need to set
breakpoints in project, let's choose TimeBean.java and set a breakpoint
on 'getNow()' method by clicking the left side of that line of code:

image:images/jsf/a96b7d32e04aa67956bd00a187f09b75a5af241e.jpg[alt=jsf/a96b7d32e04aa67956bd00a187f09b75a5af241e.jpg]

Now we can use the profile to do debug:

image:images/jsf/5ea6987d1635c2c58d3ccdb1f5718f29d6a0fac3.png[alt=jsf/5ea6987d1635c2c58d3ccdb1f5718f29d6a0fac3.png]

If everything goes fine we can see the console output:

image:images/jsf/1096ebbbf2b29e694e300e02a48d0fa4207cb746.jpg[alt=jsf/1096ebbbf2b29e694e300e02a48d0fa4207cb746.jpg]

Now we go to web browser and see our project's main page, try to click
on 'Get current time':

image:images/jsf/5ad5d0216d3326e9bc29705042db59f11c3c1e70.png[alt=jsf/5ad5d0216d3326e9bc29705042db59f11c3c1e70.png]

Then IntelliJ will popup and the code is pausing on break point:

image:images/jsf/2499d43c0dce2cab72ba472c8452a2b57999ac84.jpg[alt=jsf/2499d43c0dce2cab72ba472c8452a2b57999ac84.jpg]

And we could inspect our project now.

[[conclusion]]
== Conclusion

In this article I've shown to you how to use maven to create a project
using Jakarta Faces and deploy it in JBoss AS7, and I've also talked about the
usage of IntelliJ during project development phase. Hope the contents
are practical and helpful to you icon:smile-o[role="yellow"]

[[references]]
== References

* _https://developer.jboss.org/wiki/JBossAS7UsingJPDAToDebugTheASSourceCode[JBoss
AS7: Using JPDA to debug the AS source code]_
* _https://developer.jboss.org/wiki/MavenGettingStarted-Developers[Maven
Getting Started - Developers]_
* _https://blog.v-s-f.co.uk/2010/09/jsf-2-1-project-using-eclipse-and-maven-2/[JSF
2.1 project using Eclipse and Maven 2:http]_
* _https://www.amazon.com/Practical-RichFaces-Max-Katz/dp/1430234490/ref=dp_ob_title_bk[Practical
RichFaces]_
* _https://javaserverfaces.java.net/download.html[Oracle Mojarra
JavaServer Faces]_
* _https://github.com/jbossas/jboss-as-maven-plugin[JBoss AS7 Maven
Plugin]_

[[Getting_Started_Developing_Applications_Presentation_Demo]]
= Getting Started Developing Applications Presentation &amp; Demo


This document is a "script" for use with the quickstarts associated with
the link:Getting_Started_Developing_Applications_Guide.html[Getting
Started Developing Applications Guide]. It can be used as the basis for
demoing/explaining the Jakarta EE programming model with JBoss AS 7.

There is an associated presentation – JBoss AS - Getting Started
Developing Applications – which can be used to introduce the Jakarta EE
ecosystem.

The emphasis here is on the programming model, not on OAM/dev-ops,
performance etc.

[[prerequisites-for-using-the-script]]
== Prerequisites for using the script

* JBoss AS 7 downloaded and installed
* Eclipse Indigo with m2eclipse and JBoss Tools installed
* The quickstarts downloaded and imported into Eclipse
* Make sure `$JBOSS_HOME` is set.
* Make sure `src/test/resources/arquillian.xml` has the correct path to
your JBoss AS install for kitchensink
* Make sure your font size is set in Eclipse so everyone can read the
text!

[[import-examples-into-eclipse-and-set-up-jboss-as]]
== Import examples into Eclipse and set up JBoss AS

TODO

[[the-helloworld-quickstart]]
== The Helloworld Quickstart

[[introduction-1]]
=== Introduction

This quickstart is extremely basic, and is really useful for nothing
more than showing than the app server is working properly, and our
deployment mechanism is working. We recommend you use this quickstart to
demonstrate the various ways you can deploy apps to JBoss AS 7.

[[using-maven]]
=== Using Maven

. Start JBoss AS 7 from the console
+
[source,options="nowrap"]
----
$ JBOSS_HOME/bin/standalone.sh
----

. Deploy the app using Maven
+
[source,options="nowrap"]
----
$ mvn clean package jboss-as:deploy
----
+
[IMPORTANT]
====
The quickstarts use the jboss-as maven plugin to deploy and undeploy
applications. This plugin uses the JBoss AS Native Java Detyped
Management API to communicate with the server. The Detyped API is used
by management tools to control an entire domain of servers, and exposes
only a small number of types, allowing for backwards and forwards
compatibility.
====

. Show the app has deployed in the terminal.
+
Visit http://localhost:8080/jboss-as-helloworld

. Undeploy the app using Maven
+
[source,options="nowrap"]
----
$ mvn jboss-as:undeploy
----

[[using-the-command-line-interface-cli]]
=== Using the Command Line Interface (CLI)

.  Start JBoss AS 7 from the console (if not already running)
+
[source,options="nowrap"]
----
$ JBOSS_HOME/bin/standalone.sh
----

. Build the war
+
[source,options="nowrap"]
----
$ mvn clean package
----

. Start the CLI
+
[source,options="nowrap"]
----
$ JBOSS_HOME/bin/jboss-admin.sh --connect
----
+
[IMPORTANT]
+
The command line also uses the Deptyped Management API to communicate
with the server. It's designed to be as "unixy" as possible, allowing
you to "cd" into nodes, with full tab completion etc. The CLI allows you
to deploy and undeploy applications, create Jakarta Messaging queues, topics etc.,
create datasources (normal and XA). It also fully supports the domain
node.

. Deploy the app
+
[source,options="nowrap"]
----
$ deploy target/jboss-as-helloworld.war
----

. Show the app has deployed
+
[source,java,options="nowrap"]
----
$ undeploy jboss-as-helloworld.war
----

[[using-the-web-management-interface]]
=== Using the web management interface

.  Start JBoss AS 7 from the console (if not already running)
+
[source,options="nowrap"]
----
$ JBOSS_HOME/bin/standalone.sh
----

. Build the war
+
[source,options="nowrap"]
----
$ mvn clean package
----

. Open up the web management interface http://localhost:9990/console
+
[IMPORTANT]
====
The web management interface offers the same functionality as the CLI
(and again uses the Detyped Management API), but does so using a pretty
GWT interface! You can set up virtual servers, interrogate sub systems
and more.
====

. Navigate `Manage Deployments -&gt; Add content`. Click on choose file and
locate `helloworld/target/jboss-as-helloworld.war`.

. Click `Next` and `Finish` to upload the war to the server.

. Now click `Enable` and `Ok` to start the application

. Switch to the console to show it deployed

. Now click `Remove`

[[using-the-filesystem]]
=== Using the filesystem

.  Start JBoss AS 7 from the console (if not already running)
+
[source,options="nowrap"]
----
$ JBOSS_HOME/bin/standalone.sh
----

. Build the war
+
[source,options="nowrap"]
----
$ mvn clean package
----
+
[IMPORTANT]
====
Of course, you can still use the good ol' file system to deploy. Just
copy the file to `$JBOSS_HOME/standalone/deployments`.
====

. Copy the war
+
[source,options="nowrap"]
----
$ cp target/jboss-as-helloworld.war $JBOSS_HOME/standalone/deployments
----

. Show the war deployed
+
[IMPORTANT]
====
The filesystem deployment uses marker files to indicate the status of a
deployment. As this deployment succeeded we get a
`$JBOSS_HOME/standalone/deployments/jboss-as-helloworld.war.deployed`
file. If the deployment failed, you would get a `.failed` file etc.
====

. Undeploy the war
+
[source,options="nowrap"]
----
rm $JBOSS_HOME/standalone/deployments/jboss-as-helloworld.war.deployed
----

. Show the deployment stopping!

. Start and stop the app server, show that the deployment really is gone!
+
[IMPORTANT]
====
This gives you much more precise control over deployments than before
====

[[using-eclipse]]
=== Using Eclipse

. Add a JBoss AS server
.. Bring up the Server view
..  Right click in it, and choose `New -&gt; Server`
.  Choose JBoss AS 7.0 and hit Next
..  Locate the server on your disc
..  Hit Finish
.  Start JBoss AS in Eclipse
..  Select the server
..  Click the Run button
..  Deploy the app
.  right click on the app, choose `Run As -&gt; Run On Server`
..  Select the AS 7 instance you want to use
..  Hit finish
.  Load the app at http://localhost:8080/jboss-as-helloworld

[[digging-into-the-app]]
=== Digging into the app

.  Open up the helloworld quickstart in Eclipse, and open up
`src/main/webapp`.
.  Point out that we don't require a `web.xml` anymore!
.  Show `beans.xml` and explain it's a marker file used to JBoss AS to
enable CDI (open it, show that it is empty)
.  Show `index.html`, and explain it is just used to kick the user into
the app (open it, show the meta-refresh)
.  Open up the `pom.xm` - and emphasise that it's pretty simple.
..  There is no parent pom, everything for the build is *here*
..  Show that we are enabling the JBoss Maven repo - explain you can do
this in your POM or in system wide ( `settings.xml`)
..  Show the `dependencyManagement` section. Here we import the JBoss AS
7 Web Profile API. Explain that this gives you all the versions for all
of the JBoss AS 7 APIs that are in the web profile. Explain we could
also depend on this directly, which would give us the whole set of APIs,
but that here we've decided to go for slightly tighter control and
specify each dependency ourselves
..  Show the import for CDI, JSR-250 and Servlet API. Show that these
are all provided - we are depending on build in server implementations,
not packaging this stuff!
..  Show the plugin sections - nothing that exciting here, the war
plugin is out of date and requires you to provide `web.xml` icon:smile-o[role="yellow"]
, configure the JBoss AS Maven Plugin, set the Java version to 6.
.  Open up `src/main/java` and open up the `HelloWorldServlet`.
..  Point out the `@WebServlet` - explain this one annotation removes
about 8 lines of XML - no need to separately map a path either. This is
much more refactor safe
..  Show that we can inject services into a Servlet
..  Show that we use the service (line 41) +
#Cmd-click on `HelloService`
..  This is a CDI bean - very simple, no annotations required!
..  Explain injection
...  Probably used to string based bean resolution
...  This is typesafe (refactor safe, take advantage of the compiler and
the IDE - we just saw that!)
...  When CDI needs to inject something, the first thing it looks at is
the type - and if the type of the injection point is assignable from a
bean, CDI will inject that bean

[[the-numberguess-quickstart]]
== The numberguess quickstart

[[introduction-2]]
=== Introduction

This quickstart adds in a "complete" view layer into the mix. Jakarta EE
ships with a Jakarta Faces. Jakarta Faces is a server side rendering, component orientated
framework, where you write markup using an HTML like language, adding in
dynamic behavior by binding components to beans in the back end. The
quickstart also makes more use of CDI to wire the application together.

[[run-the-app]]
=== Run the app

.  Start JBoss AS in Eclipse
.  Deploy it using Eclipse - just right click on the app, choose
`Run As -&gt; Run On Server`
.  Select the AS 7 instance you want to use
.  Hit finish
.  Load the app at http://localhost:8080/jboss-as-numberguess
.  Make a few guesses

[[deployment-descriptors-srcmainwebappweb-inf]]
=== Deployment descriptors src/main/webapp/WEB-INF

Emphasize the lack of them!

No need to open any of them, just point them out

.  `web.xml` - don't need it!
.  `beans.xml` - as before, marker file
.  `faces-config.xml` - nice feature from AS7 - we can just put
`faces-config.xml` into the WEB-INF and it enables Jakarta Faces (inspiration from
CDI)
.  `pom.xml` we saw this before, this time it's the same but adds in
Jakarta Faces API

[[views]]
=== Views

.  `index.html` - same as before, just kicks us into the app
.  `home.xhtml`
..  Lines 19 - 25 – these are messages output depending on state of
beans (minimise coupling between controller and view layer by
interrogating state, not pushing)
.  Line 20 – output any messages pushed out by the controller
.  Line 39 - 42 – the input field is bound to the guess field on the
game bean. We validate the input by calling a method on the game bean.
.  Line 43 - 45 – the command button is used to submit the form, and
calls a method on the game bean
.  Line 48, 49, The reset button again calls a method on the game bean

[[beans]]
=== Beans

.  `Game.java` – this is the main controller for the game. App has no
persistence etc.
..  `@Named` – As we discussed CDI is typesafe, (beans are injected by
type) but sometimes need to access in a non-typesafe fashion. @Named
exposes the Bean in EL - and allows us to access it from Jakarta Faces
..  `@SessionScoped` – really simple app, we keep the game data in the
session - to play two concurrent games, need two sessions. This is not a
limitation of CDI, but simply keeps this demo very simple. CDI will
create a bean instance the first time the game bean is accessed, and
then always load that for you
..  `@Inject maxNumber` – here we inject the maximum number we can
guess. This allows us to externalize the config of the game
..  `@Inject rnadomNumber` – here we inject the random number we need to
guess. Two things to discuss here
..  Instance - normally we can inject the object itself, but sometimes
it's useful to inject a "provider" of the object (in this case so that
we can get a new random number when the game is reset!). Instance allows
us to `get()` a new instance when needed
..  Qualifiers - now we have two types of Integer (CDI auto-boxes types
when doing injection) so we need to disambiguate. Explain qualifiers and
development time approach to disambiguation. You will want to open up
`@MaxNumber` and `@Random` here.
..  `@PostConstruct` – here is our reset method - we also call it on
startup to set up initial values. Show use of `Instance.get()`.
.  `Generator.java` This bean acts as our random number generator.
.  `@ApplicationScoped` explain about other scopes available in CDI +
extensibility.
..  `next()` Explain about producers being useful for determining bean
instance at runtime
..  `getMaxNumber()` Explain about producers allowing for loose coupling

[[the-login-quickstart]]
== The login quickstart

[[introduction-3]]
=== Introduction

The login quickstart builds on the knowledge of CDI and Jakarta Faces we have got
from numberguess. New stuff we will learn about is how to use Jakarta Persistence to
store data in a database, how to use Jakarta Transactions to control transactions, and
how to use Jakarta Enterprise Beans for declarative TX control.

[[run-the-app-1]]
=== Run the app

.  Start JBoss AS in Eclipse
.  Deploy it using Eclipse - just right click on the app, choose
`Run As -&gt; Run On Server`
.  Select the AS 7 instance you want to use
.  Hit finish
.  Load the app at http://localhost:8080/jboss-as-login
.  Login as admin/admin
.  Create a new user

[[deployment-descriptors]]
=== Deployment Descriptors

.  Show that we have the same ones we are used in `src/main/webapp` –
`beans.xml`, `faces-config.xml`
.  We have a couple of new ones in `src/main/resources`
..  `persistence.xml`. Not too exciting. We are using a datasource that
AS7 ships with. It's backed by the H2 database and is purely a sample
datasource to use in sample applications. We also tell Hibernate to
auto-create tables - as you always have.
..  `import.sql` Again, the same old thing you are used to in Hibernate
- auto-import data when the app starts.
.  `pom.xml` is the same again, but just adds in dependencies for Jakarta Persistence,
Jakarta Transactions and Jakarta Enterprise Beans

[[views-1]]
=== Views

.  `template.xhtml` One of the updates added to Jakarta Faces was templating
ability. We take advantage of that in this app, as we have multiple
views
..  Actually nothing too major here, we define the app "title" and we
could easily define a common footer etc. (we can see this done in the
kitchensink app)
..  The `ui:insert` command inserts the actual content from the
templated page. +
# `home.xhtml`
..  Uses the template
..  Has some input fields for the login form, button to login and
logout, link to add users.
..  Binds fields to credentials bean}}
..  Buttons link to login bean which is the controller
.  `users.xhtml`
..  Uses the template
..  Displays all users using a table
..  Has a form with input fields to add users.
..  Binds fields to the newUser bean
..  Methods call on userManager bean

[[beans-1]]
=== Beans

.  `Credentials.java` Backing bean for the login form field, pretty
trivial. It's request scoped (natural for a login field) and named so we
can get it from Jakarta Faces.
.  `Login.java`
..  Is session scoped (a user is logged in for the length of their
session or until they log out}}
..  Is accessible from EL
..  Injects the current credentials
..  Uses the userManager service to load the user, and sends any
messages to Jakarta Faces as needed
..  Uses a producer method to expose the @LoggedIn user (producer
methods used as we don't know which user at development time)
.  `User.java` Is a pretty straightforward Jakarta Persistence entity. Mapped with
`@Entity`, has an natural id.
.  `UserManager.java` This is an interface, and by default we use the
ManagedBean version, which requires manual TX control
.  `ManagedBeanUserManager.java` - accessible from EL, request scoped.
..  Injects a logger (we'll see how that is produced in a minute)
..  Injects the entity manager (again, just a min)
..  Inject the UserTransaction (this is provided by CDI)
..  `getUsers()` standard Jakarta Persistence-QL that we know and love - but lots of
ugly TX handling code.
..  Same for `addUser()` and `findUser()` methods - very simple Jakarta Persistence
but...
..  Got a couple of producer methods.
...  `getUsers()` is obvious - loads all the users in the database. No
ambiguity - CDI takes into account generic types when injecting. Also
note that CDI names respect JavaBean naming conventions
...  `getNewUser()` is used to bind the new user form to from the view
layer - very nice as it decreases coupling - we could completely change
the wiring on the server side (different approach to creating the
newUser bean) and no need to change the view layer.
.  `EJBUserManager.java`
..  It's an alternative – explain alternatives, and that they allow
selection of beans at deployment time
..  Much simple now we have declarative TX control.
..  Start to see how we can introduce Jakarta Enterprise Beans to get useful enterprise
services such as declarative TX control
.  `Resources.java`
..  `{EntityManager}` - explain resource producer pattern

[[the-kitchensink-quickstart]]
== The kitchensink quickstart

[[introduction-4]]
=== Introduction

The kitchensink quickstart is generated from an archetype available for
JBoss AS (tell people to check the
link:/pages/createpage.action?spaceKey=WFLY&amp;title=Getting+Started+Developing+Applications&amp;linkCreation=true&amp;fromPageId=557131[Getting
Started Developing Applications] Guide for details). It demonstrates
CDI, Jakarta Faces, Jakarta Enterprise Beans, Jakarta Persistence (which we've seen before) and Jakarta RESTful Web Services and Bean
Validation as well. We add in Arquillian for testing.

[[run-the-app-2]]
=== Run the app

.  Start JBoss AS in Eclipse
.  Deploy it using Eclipse - just right click on the app, choose
`Run As -&gt; Run On Server`
.  Select the AS 7 instance you want to use
.  Hit finish
.  Load the app at http://localhost:8080/jboss-as-kitchensink
.  Register a member - make sure to enter an invalid email and phone -
show Jakarta Bean Validation at work
.  Click on the member URL and show the output from Jakarta RESTful Web Services

[[Jakarta-Bean-Validation]]
=== Jakarta Bean Validation

.  Explain the benefits of Jakarta Bean Validation - need your data always
valid (protect your data) AND good errors for your user. BV allows you
to express once, apply often.
.  `index.xhtml`
..  Show the input fields – no validators attached
..  Show the message output
.  `Member.java`
...  Hightlight the various validation annotations
.  Jakarta EE automatically applies the validators in both the persistence
layer and in your views

[[Jakarta-RESTful-Web-Services]]
=== Jakarta RESTful Web Services

.  `index.xhtml` - Show that URL generation is just manual
.  `JaxRsActivator.java` - simply activates Jakarta RESTful Web Services
.  `Member.java` - add Jakarta XML Binding annotation to make Jakarta XML Binding process the class properly
.  `MemberResourceRESTService.java`
..  `@Path` sets the Jakarta RESTful Web Services resource
..  Jakarta RESTful Web Services services can use injection
..  `@GET` methods are auto transformed to XML using Jakarta XML Binding
.  And that is it!

[[arquillian-getting-started]]
=== Arquillian

.  Make sure JBoss AS is running
+
[source,options="nowrap"]
----
mvn clean test -Parq-jbossas-remote
----

.  Explain the difference between managed and remote

. Make sure JBoss AS is stopped
+
[source,options="nowrap"]
----
mvn clean test -Parq-jbossas-managed
----

. Start JBoss AS in Eclipse

. Update the project to use the `arq-jbossas-remote` profile

. Run the test from Eclipse
+
Right click on test, `Run As -&gt; JUnit Test`
+
`MemberRegistrationTest.java`

.  Discuss micro deployments
.  Explain Arquilian allows you to use injection
.  Explain that Arquillian allows you to concentrate just on your test
logic

NOTE: References in this document to CDI refer to Jakarta Contexts and Dependency Injection unless otherwise noted.</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 29.0.0.Final<br>
Last updated 2023-07-17 17:20:38 -0500
</div>
</div>
</body>
</html>